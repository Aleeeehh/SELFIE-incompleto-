{"ast":null,"code":"import React from\"react\";import{useState,useRef}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import{SERVER_API}from\"./params/params\";import{useNavigate}from\"react-router-dom\";import{ResponseStatus}from\"./types/ResponseStatus\";import DatePicker from\"react-datepicker\";//to create pomodoro events\n//import Time from \"react-datepicker/dist/time\";\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";var MESSAGE=/*#__PURE__*/function(MESSAGE){MESSAGE[\"PRESS_START\"]=\"FILL THE SPACES AND PRESS START TO BEGIN!\";MESSAGE[\"ERROR\"]=\"INSERT AN INTEGER NUMBER FOR STUDY TIME, PAUSE TIME AND STUDY CYCLES! (1-99)\";MESSAGE[\"VOID\"]=\"\";MESSAGE[\"MINUTES\"]=\"INSERT THE AMOUNT OF MINUTES OF STUDY (1-3465)\";MESSAGE[\"HOURS\"]=\"INSERT THE AMOUNT OF HOURS OF STUDY (1-57)\";return MESSAGE;}(MESSAGE||{});var STATUS=/*#__PURE__*/function(STATUS){STATUS[\"BEGIN\"]=\"BEGIN SESSION\";STATUS[\"STUDY\"]=\"STUDY\";STATUS[\"PAUSE\"]=\"PAUSE\";STATUS[\"END\"]=\"END OF SESSION\";return STATUS;}(STATUS||{});var Frequency=/*#__PURE__*/function(Frequency){Frequency[\"ONCE\"]=\"once\";Frequency[\"DAILY\"]=\"day\";Frequency[\"WEEKLY\"]=\"week\";return Frequency;}(Frequency||{});const initialPomEvent={addTitle:true,title:\"\",startTime:new Date(),endTime:new Date(),location:\"Napule\"//obviously it has to be changed but without something \n//it gave me an error so I choosed a città chiù bell 'rò munn!!\n};const initialState={studyTime:30,pauseTime:5,cycles:5,status:STATUS.BEGIN,message:MESSAGE.PRESS_START,minutes:0,seconds:0,studying:true,activeTimer:false,intervalId:undefined,totMinutes:0,totHours:0};export default function Pomodoros(){const[data,setData]=useState(initialState);const[pomEvent,setPomEvent]=useState(initialPomEvent);const[message,setMessage]=useState(\"\");const[tomatoList,setTomatoList]=React.useState([]);const pomodoroRef=useRef(null);const nav=useNavigate();React.useEffect(()=>{(async()=>{try{const res=await fetch(\"\".concat(SERVER_API,\"/pomodoro\"));if(res.status!==200){nav(\"/login\");}// TODO: set session value as response\nconst data=await res.json();console.log(data);if(data.status===ResponseStatus.GOOD){setTomatoList(data.value);}else{setMessage(\"Errore nel ritrovamento dei pomodoro\");}}catch(e){setMessage(\"Impossibile raggiungere il server\");}})();},[]);function inputCheck(){if(data.studyTime<=0||data.studyTime>99||data.pauseTime<=0||data.pauseTime>99||data.cycles<=0||data.cycles>99){return false;}else{return true;}}function playRing(){const ring=document.getElementById(\"ring\");if(ring){ring.play();}}function startProcess(){if(inputCheck()){playRing();clearInterval(data.intervalId);const interval=setInterval(()=>{updateTimer();},1000);//mettere 1000\nsetData({...data,message:MESSAGE.VOID,studying:true,activeTimer:true,intervalId:interval,status:STATUS.STUDY,minutes:data.studyTime,seconds:0});startAnimation(true);}else{setData({...data,message:MESSAGE.ERROR});}}async function handleSavePomodoroConfig(e){e.preventDefault();try{const pomodoroConfig={studyTime:data.studyTime,pauseTime:data.pauseTime,cycles:data.cycles,owner:\"\"};console.log(\"Dati inviati al server:\",pomodoroConfig);const res=await fetch(\"\".concat(SERVER_API,\"/pomodoro\"),{method:\"POST\",body:JSON.stringify(pomodoroConfig),headers:{\"Content-Type\":\"application/json\"}});const resBody=await res.json();if(resBody.status===ResponseStatus.GOOD){alert(\"Configurazione Pomodoro salvata correttamente!\");startProcess();//await updateTomatoList();\n}else{setMessage(\"Errore nel salvataggio della configurazione\");}}catch(e){setMessage(\"Impossibile raggiungere il server\");}}//Funzione per aggiornare la lista dei pomodori in tempo reale (non funziona al momento)\n/*const updateTomatoList = async (): Promise<void> => {\n\t\ttry {\n\t\t\tconst response = await fetch(`${SERVER_API}/pomodoro`);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error('Failed to fetch pomodori');\n\t\t\t}\n\t\t\tconst fetchedTomatoes = await response.json();\n\t\t\tsetTomatoList(fetchedTomatoes);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};*/function stopProcess(){playRing();stopTimer();}function stopTimer(){clearInterval(data.intervalId);setData(prevData=>{return{...prevData,intervalId:undefined,activeTimer:false,status:STATUS.END};});resetPomodoroColor();}function updateTimer(){setData(prevData=>{let{minutes,seconds,cycles,studyTime,studying,pauseTime,status,intervalId,activeTimer}=prevData;seconds-=1;if(seconds<0){seconds=59;minutes-=1;}if(minutes<0){if(cycles===0){clearInterval(prevData.intervalId);intervalId=undefined;activeTimer=false;status=STATUS.END;resetPomodoroColor();minutes=studyTime;seconds=0;}else{if(studying){// End of study session, enter pause\nconsole.log(\"Start pause session\");status=STATUS.PAUSE;studying=false;playRing();startAnimation(false);// Passa false per l'animazione di pausa\nminutes=pauseTime;seconds=0;cycles-=1;}else{// End of pause session, start next study session\nconsole.log(\"Start study session\");status=STATUS.STUDY;studying=true;playRing();startAnimation(true);// Passa true per l'animazione di studio\nminutes=studyTime;seconds=0;}}}return{...prevData,minutes,seconds,cycles,studyTime,studying,pauseTime,status,intervalId,activeTimer};});}function startAnimation(isStudying){console.log(isStudying);if(pomodoroRef.current){pomodoroRef.current.classList.remove(\"animate-pomodoro\");pomodoroRef.current.classList.remove(\"reverse-animate-pomodoro\");if(isStudying){pomodoroRef.current.style.animationDuration=\"\".concat(data.studyTime*60,\"s\");pomodoroRef.current.classList.add(\"animate-pomodoro\");}else{pomodoroRef.current.style.animationDuration=\"\".concat(data.pauseTime*60,\"s\");pomodoroRef.current.classList.add(\"reverse-animate-pomodoro\");}}}function pad(value){return value<10?\"0\"+value:String(value);}function resetPomodoroColor(){if(pomodoroRef.current){pomodoroRef.current.style.animationDuration=\"0.1s\";pomodoroRef.current.classList.add(\"animate-pomodoro\");setTimeout(()=>{if(pomodoroRef.current){pomodoroRef.current.classList.remove(\"animate-pomodoro\");}},100);}}function nextPhase(){setData(prevData=>{let{minutes,seconds,cycles,studyTime,studying,pauseTime,status,intervalId,activeTimer}=prevData;if(cycles===0){clearInterval(prevData.intervalId);intervalId=undefined;activeTimer=false;status=STATUS.END;resetPomodoroColor();minutes=studyTime;seconds=0;}else{if(studying){// End of study session, enter pause\nconsole.log(\"Start pause session\");status=STATUS.PAUSE;studying=false;playRing();startAnimation(false);// Passa false per l'animazione di pausa\nminutes=pauseTime;seconds=0;cycles-=1;}else{// End of pause session, start next study session\nconsole.log(\"Start study session\");status=STATUS.STUDY;studying=true;playRing();startAnimation(true);// Passa true per l'animazione di studio\nminutes=studyTime;seconds=0;}}return{...prevData,minutes,seconds,cycles,studyTime,studying,pauseTime,status,intervalId,activeTimer};});}function nextCycle(){if(data.studying){nextPhase();nextPhase();}else{nextPhase();}}function repeatCycle(){setData(prevData=>{let{minutes,seconds,cycles,studyTime,studying,status}=prevData;if(!studying){cycles+=1;}status=STATUS.STUDY;studying=true;playRing();startAnimation(true);// Passa true per l'animazione di studio\nminutes=studyTime;seconds=0;return{...prevData,minutes,seconds,cycles,studyTime,studying,status};});}function proposalsMinutes(){setData(prevData=>{let{cycles,studyTime,totMinutes,pauseTime,message}=prevData;if(totMinutes<=0||totMinutes>3465){setData({...data,message:MESSAGE.MINUTES});}else{studyTime=30;pauseTime=5;if(totMinutes%35!==0){cycles=Math.floor(totMinutes/35)+1;// +1 perchè ho i tasti per passare avanti\n}// quindi se il tempo totale è troppo non è un problema\nelse{cycles=Math.floor(totMinutes/35);}}return{...prevData,cycles,pauseTime,studyTime,message,totMinutes};});}function proposalsHours(){setData(prevData=>{let{cycles,message,studyTime,pauseTime,totHours,totMinutes}=prevData;totMinutes=totHours*60;if(totMinutes<=0||totMinutes>3465){setData({...data,message:MESSAGE.HOURS});}else{studyTime=30;pauseTime=5;if(totMinutes%35!==0){cycles=Math.floor(totMinutes/35)+1;}else{cycles=Math.floor(totMinutes/35);}}return{...prevData,cycles,message,studyTime,pauseTime,totMinutes,totHours};});}async function handleCreateEvent(e){e.preventDefault();/*const currentUser = await getCurrentUser();\n\t\tconsole.log(\"User corrente: \");\n\t\tconsole.log(currentUser);\n\t\t*/ //Validazione dell'input\nif(!pomEvent.title||!pomEvent.startTime||!pomEvent.endTime){setMessage(\"Tutti i campi dell'evento devono essere riempiti!\");return;}if(pomEvent.startTime>pomEvent.endTime){setMessage(\"La data di inizio non può essere collocata dopo la data di fine!\");return;}const res=await fetch(\"\".concat(SERVER_API,\"/events\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:pomEvent.title,startTime:pomEvent.startTime.toISOString(),endTime:pomEvent.endTime.toISOString(),frequency:Frequency.ONCE,location:pomEvent.location})});console.log(pomEvent.title,pomEvent.startTime,pomEvent.endTime,pomEvent.location);if(!res.ok){const errorData=await res.json();console.error(\"Error response:\",errorData);setMessage(\"Errore durante la creazione dell'evento: \"+errorData.message);return;}const data=await res.json();setMessage(data.message||\"Undefined error\");window.location.reload();// TODO: send post request to server\n// TODO: handle response\n}function toggleEventTitle(){if(pomEvent.addTitle){// Se addTitle è true (campo titolo visibile), lo disabilitiamo e impostiamo il titolo predefinito\nsetPomEvent({...pomEvent,title:\"Pomodoro Session\",addTitle:false});}else{// Se addTitle è false, riabilitiamo il campo per inserire un titolo personalizzato\nsetPomEvent({...pomEvent,title:\"\",addTitle:true});}}return/*#__PURE__*/_jsxs(_Fragment,{children:[message&&/*#__PURE__*/_jsx(\"div\",{children:message}),/*#__PURE__*/_jsx(\"audio\",{id:\"ring\",src:\"/images/ring.mp3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pomodoro-container\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{id:\"title\",style:{color:\"white\",fontWeight:\"bold\"},children:\"POMODORO TIMER\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview\",children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:\"bold\"},children:\"POMODORO RECENTI:\"}),tomatoList.slice(-3).map((pomodoro,index)=>/*#__PURE__*/_jsxs(\"button\",{className:\"previous-pomodoros\",onClick:()=>setData({...data,studyTime:pomodoro.studyTime,pauseTime:pomodoro.pauseTime,cycles:pomodoro.cycles}),children:[pomodoro.studyTime,\" min - \",pomodoro.pauseTime,\" min - \",pomodoro.cycles,\" cicli\",/*#__PURE__*/_jsx(\"br\",{})]},index))]}),/*#__PURE__*/_jsxs(\"div\",{ref:pomodoroRef,className:\"pomodoro\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/tomato.png\",alt:\"tomato.png\"}),/*#__PURE__*/_jsx(\"div\",{id:\"timer\",className:\"timer\",children:data.activeTimer?\"\".concat(pad(data.minutes),\":\").concat(pad(data.seconds)):\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:\"0.5em auto 1em\",width:\"300px\",color:\"white\",textAlign:\"center\"},children:data.status}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(\"button\",{id:\"start-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-success\",onClick:handleSavePomodoroConfig,disabled:data.activeTimer,children:\"START\"}),/*#__PURE__*/_jsx(\"button\",{id:\"stop-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-danger\",onClick:stopProcess,disabled:!data.activeTimer,children:\"STOP\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{id:\"next-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-warning\",onClick:nextPhase,disabled:!data.activeTimer,children:\"NEXT PHASE\"}),/*#__PURE__*/_jsx(\"button\",{id:\"next-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-warning\",onClick:nextCycle,disabled:!data.activeTimer,children:\"NEXT CYCLE\"}),/*#__PURE__*/_jsx(\"button\",{id:\"next-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-warning\",onClick:repeatCycle,disabled:!data.activeTimer,children:\"REPEAT CYCLE\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"paragraph\",children:data.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello studyTime\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputStudy\",children:\"Study time in minutes\"}),/*#__PURE__*/_jsx(\"input\",{name:\"inputStudy\",type:\"number\",placeholder:\"Enter the time\",className:\"inputStudyTime\",id:\"inputStudy\",value:data.studyTime,onChange:e=>setData({...data,studyTime:parseInt(e.target.value)}),disabled:data.activeTimer})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello breakTime\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputPause\",children:\" Break time in minutes \"}),/*#__PURE__*/_jsx(\"input\",{name:\"inputPause\",type:\"number\",placeholder:\"Enter the time\",id:\"inputPause\",value:data.pauseTime,onChange:e=>setData({...data,pauseTime:parseInt(e.target.value)}),disabled:data.activeTimer})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello studyCycles\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputCycles\",children:\" Number of study cycles \"}),/*#__PURE__*/_jsx(\"input\",{name:\"inputCycles\",type:\"number\",placeholder:\"Enter the study cycles\",id:\"inputCycles\",value:data.cycles,onChange:e=>setData({...data,cycles:parseInt(e.target.value)}),disabled:data.activeTimer})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello totMinutes\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"totMinutes\",children:\" Total minutes of study \"}),/*#__PURE__*/_jsx(\"input\",{name:\"totMinutes\",type:\"number\",placeholder:\"Enter the total minutes\",id:\"totMinutes\",value:data.totMinutes,onChange:e=>setData({...data,totMinutes:parseInt(e.target.value)}),disabled:data.activeTimer}),/*#__PURE__*/_jsx(\"button\",{id:\"minutesButton\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-success\",onClick:proposalsMinutes,disabled:data.activeTimer,children:\"USE MINUTES\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello totHours\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"totHours\",children:\" Total hours of study \"}),/*#__PURE__*/_jsx(\"input\",{name:\"totHours\",type:\"number\",placeholder:\"Enter the total hours\",id:\"totHours\",value:data.totHours,onChange:e=>setData({...data,totHours:parseInt(e.target.value)}),disabled:data.activeTimer}),/*#__PURE__*/_jsx(\"button\",{id:\"hoursButton\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-success\",onClick:proposalsHours,disabled:data.activeTimer,children:\"USE HOURS\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"create-event-container col-2\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"useDefaultTitle\",children:[\"Is it a \\\"Pomodoro Session\\\"\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"useDefaultTitle\",onClick:toggleEventTitle})]}),pomEvent.addTitle&&/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"title\",children:[\"Title\",/*#__PURE__*/_jsx(\"input\",{className:\"btn border\",type:\"text\",name:\"title\",value:pomEvent.title,onChange:e=>setPomEvent({...pomEvent,title:e.target.value})})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"startTime\",children:[\"Data Inizio\",/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DatePicker,{className:\"btn border\",name:\"startTime\",selected:pomEvent.startTime,onChange:date=>{if(date){// Aggiorna la data mantenendo l'orario attuale\nconst newDate=new Date(pomEvent.startTime);newDate.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());setPomEvent({...pomEvent,startTime:newDate});}}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn border\",type:\"time\",value:\"\".concat(pomEvent.startTime.getHours().toString().padStart(2,'0'),\":\").concat(pomEvent.startTime.getMinutes().toString().padStart(2,'0')),onChange:e=>{const[hours,minutes]=e.target.value.split(':');const newDate=new Date(pomEvent.startTime);// Crea un nuovo oggetto Date basato su startTime\nnewDate.setHours(Number(hours),Number(minutes),0,0);// Imposta l'orario\nsetPomEvent({...pomEvent,startTime:newDate});// Imposta il nuovo oggetto Date\n}})})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"endTime\",children:[\"Data Fine\",/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DatePicker,{className:\"btn border\",name:\"endTime\",selected:pomEvent.endTime,onChange:date=>{if(date){// Aggiorna la data mantenendo l'orario attuale\nconst newDate=new Date(pomEvent.endTime);newDate.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());setPomEvent({...pomEvent,endTime:newDate});}}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn border\",type:\"time\",value:\"\".concat(pomEvent.endTime.getHours().toString().padStart(2,'0'),\":\").concat(pomEvent.endTime.getMinutes().toString().padStart(2,'0')),onChange:e=>{const[hours,minutes]=e.target.value.split(':');const newDate=new Date(pomEvent.endTime);newDate.setHours(Number(hours),Number(minutes));// Aggiorna l'orario\nsetPomEvent({...pomEvent,endTime:newDate});// Imposta il nuovo oggetto Date\n}})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",style:{backgroundColor:\"bisque\",color:\"white\",border:\"0\"},onClick:handleCreateEvent,children:\"Create Event\"})]})})]})]});}","map":{"version":3,"names":["React","useState","useRef","SERVER_API","useNavigate","ResponseStatus","DatePicker","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MESSAGE","STATUS","Frequency","initialPomEvent","addTitle","title","startTime","Date","endTime","location","initialState","studyTime","pauseTime","cycles","status","BEGIN","message","PRESS_START","minutes","seconds","studying","activeTimer","intervalId","undefined","totMinutes","totHours","Pomodoros","data","setData","pomEvent","setPomEvent","setMessage","tomatoList","setTomatoList","pomodoroRef","nav","useEffect","res","fetch","concat","json","console","log","GOOD","value","e","inputCheck","playRing","ring","document","getElementById","play","startProcess","clearInterval","interval","setInterval","updateTimer","VOID","STUDY","startAnimation","ERROR","handleSavePomodoroConfig","preventDefault","pomodoroConfig","owner","method","body","JSON","stringify","headers","resBody","alert","stopProcess","stopTimer","prevData","END","resetPomodoroColor","PAUSE","isStudying","current","classList","remove","style","animationDuration","add","pad","String","setTimeout","nextPhase","nextCycle","repeatCycle","proposalsMinutes","MINUTES","Math","floor","proposalsHours","HOURS","handleCreateEvent","toISOString","frequency","ONCE","ok","errorData","error","window","reload","toggleEventTitle","children","id","src","className","color","fontWeight","slice","map","pomodoro","index","onClick","ref","alt","margin","width","textAlign","display","justifyContent","type","disabled","htmlFor","name","placeholder","onChange","parseInt","target","selected","date","newDate","setFullYear","getFullYear","getMonth","getDate","getHours","toString","padStart","getMinutes","hours","split","setHours","Number","backgroundColor","border"],"sources":["/Users/alessioprato/Desktop/SELFIE/client/src/Pomodoro.tsx"],"sourcesContent":["import React from \"react\";\nimport { useState, ChangeEvent, useRef } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { SERVER_API } from \"./params/params\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ResponseBody } from \"./types/ResponseBody\";\nimport { ResponseStatus } from \"./types/ResponseStatus\";\nimport Pomodoro from \"./types/Pomodoro\";\n\nimport DatePicker from \"react-datepicker\";\t//to create pomodoro events\n//import Time from \"react-datepicker/dist/time\";\n\n\nenum MESSAGE {\n\tPRESS_START = \"FILL THE SPACES AND PRESS START TO BEGIN!\",\n\tERROR = \"INSERT AN INTEGER NUMBER FOR STUDY TIME, PAUSE TIME AND STUDY CYCLES! (1-99)\",\n\tVOID = \"\",\n\tMINUTES = \"INSERT THE AMOUNT OF MINUTES OF STUDY (1-3465)\",\n\tHOURS = \"INSERT THE AMOUNT OF HOURS OF STUDY (1-57)\"\n}\n\nenum STATUS {\n\tBEGIN = \"BEGIN SESSION\",\n\tSTUDY = \"STUDY\",\n\tPAUSE = \"PAUSE\",\n\tEND = \"END OF SESSION\",\n}\n\nenum Frequency {\n\tONCE = \"once\",\n\tDAILY = \"day\",\n\tWEEKLY = \"week\",\n}\n\ntype PomodoroData = {\n\tstudyTime: number;\n\tpauseTime: number;\n\tcycles: number;\n\tstatus: STATUS;\n\tmessage: MESSAGE;\n\tminutes: number;\n\tseconds: number;\n\tstudying: boolean;\n\tactiveTimer: boolean;\n\tintervalId?: NodeJS.Timeout;\n\ttotMinutes: number;\n\ttotHours: number;\n};\n\ntype PomodoroEvent = {\n\taddTitle: boolean;\n\ttitle: string;\n\tstartTime: Date;\n\tendTime: Date;\n\tlocation: string;\n};\n\nconst initialPomEvent: PomodoroEvent = {\n\taddTitle: true,\n\ttitle: \"\",\n\tstartTime: new Date(),\n\tendTime: new Date(),\n\tlocation: \"Napule\",\t//obviously it has to be changed but without something \n\t\t\t\t\t\t//it gave me an error so I choosed a città chiù bell 'rò munn!!\n};\n\nconst initialState: PomodoroData = {\n\tstudyTime: 30,\n\tpauseTime: 5,\n\tcycles: 5,\n\tstatus: STATUS.BEGIN,\n\tmessage: MESSAGE.PRESS_START,\n\tminutes: 0,\n\tseconds: 0,\n\tstudying: true,\n\tactiveTimer: false,\n\tintervalId: undefined,\n\ttotMinutes: 0,\n\ttotHours: 0,\n};\n\nexport default function Pomodoros(): React.JSX.Element {\n\tconst [data, setData] = useState(initialState);\n\tconst [pomEvent, setPomEvent] = useState(initialPomEvent);\n\tconst [message, setMessage] = useState(\"\");\n\tconst [tomatoList, setTomatoList] = React.useState([] as Pomodoro[]);\n\n\tconst pomodoroRef = useRef<HTMLDivElement | null>(null);\n\n\tconst nav = useNavigate();\n\t\n\n\tReact.useEffect(() => {\n\t\t(async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tconst res = await fetch(`${SERVER_API}/pomodoro`);\n\t\t\t\tif (res.status !== 200) {\n\t\t\t\t\tnav(\"/login\");\n\t\t\t\t}\n\t\t\t\t// TODO: set session value as response\n\t\t\t\tconst data = (await res.json()) as ResponseBody;\n\n\t\t\t\tconsole.log(data);\n\n\t\t\t\tif (data.status === ResponseStatus.GOOD) {\n\t\t\t\t\tsetTomatoList(data.value as Pomodoro[]);\n\t\t\t\t} else {\n\t\t\t\t\tsetMessage(\"Errore nel ritrovamento dei pomodoro\");\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tsetMessage(\"Impossibile raggiungere il server\");\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tfunction inputCheck(): boolean {\n\t\tif (\n\t\t\tdata.studyTime <= 0 ||\n\t\t\tdata.studyTime > 99 ||\n\t\t\tdata.pauseTime <= 0 ||\n\t\t\tdata.pauseTime > 99 ||\n\t\t\tdata.cycles <= 0 ||\n\t\t\tdata.cycles > 99\n\t\t) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\tfunction playRing(): void {\n\t\tconst ring = document.getElementById(\"ring\") as HTMLAudioElement;\n\t\tif (ring) {\n\t\t\tring.play();\n\t\t}\n\t}\n\n\tfunction startProcess(): void {\n\t\tif (inputCheck()) {\n\t\t\tplayRing();\n\t\t\tclearInterval(data.intervalId);\n\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tupdateTimer();\n\t\t\t}, 1000);\t\t//mettere 1000\n\n\t\t\tsetData({\n\t\t\t\t...data,\n\t\t\t\tmessage: MESSAGE.VOID,\n\t\t\t\tstudying: true,\n\t\t\t\tactiveTimer: true,\n\t\t\t\tintervalId: interval,\n\t\t\t\tstatus: STATUS.STUDY,\n\t\t\t\tminutes: data.studyTime,\n\t\t\t\tseconds: 0,\n\t\t\t});\n\t\t\tstartAnimation(true);\n\t\t\t\n\t\t} else {\n\t\t\tsetData({ ...data, message: MESSAGE.ERROR });\n\t\t}\n\t}\n\n\tasync function handleSavePomodoroConfig(e: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n\t\te.preventDefault();\n\n\t\ttry {\n\t\t\tconst pomodoroConfig = {\n\t\t\t\tstudyTime: data.studyTime,\n\t\t\t\tpauseTime: data.pauseTime,\n\t\t\t\tcycles: data.cycles,\n\t\t\t\towner: \"\" ,\n\t\t\t};\n\t\t\tconsole.log(\"Dati inviati al server:\", pomodoroConfig);\n\n\t\t\tconst res = await fetch(`${SERVER_API}/pomodoro`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(pomodoroConfig),\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t});\n\t\n\t\t\tconst resBody = await res.json();\n\t\n\t\t\tif (resBody.status === ResponseStatus.GOOD) {\n\t\t\t\talert(\"Configurazione Pomodoro salvata correttamente!\");\n\t\t\t\tstartProcess();\n\t\t\t\t//await updateTomatoList();\n\t\t\t} else {\n\t\t\t\tsetMessage(\"Errore nel salvataggio della configurazione\");\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetMessage(\"Impossibile raggiungere il server\");\n\t\t}\n\t}\n\t\n\t//Funzione per aggiornare la lista dei pomodori in tempo reale (non funziona al momento)\n\n\t/*const updateTomatoList = async (): Promise<void> => {\n\t\ttry {\n\t\t\tconst response = await fetch(`${SERVER_API}/pomodoro`);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error('Failed to fetch pomodori');\n\t\t\t}\n\t\t\tconst fetchedTomatoes = await response.json();\n\t\t\tsetTomatoList(fetchedTomatoes);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};*/\n\t\n\n\tfunction stopProcess(): void {\n\t\tplayRing();\n\t\tstopTimer();\n\t}\n\n\tfunction stopTimer(): void {\n\t\tclearInterval(data.intervalId);\n\n\t\tsetData((prevData) => {\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tintervalId: undefined,\n\t\t\t\tactiveTimer: false,\n\t\t\t\tstatus: STATUS.END,\n\t\t\t};\n\t\t});\n\n\t\tresetPomodoroColor();\n\t}\n\n\tfunction updateTimer(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} = prevData;\n\n\t\t\tseconds -= 1;\n\t\t\tif (seconds < 0) {\n\t\t\t\tseconds = 59;\n\t\t\t\tminutes -= 1;\n\t\t\t}\n\n\t\t\tif (minutes < 0) {\n\t\t\t\tif (cycles === 0) {\n\t\t\t\t\tclearInterval(prevData.intervalId);\n\n\t\t\t\t\tintervalId = undefined;\n\t\t\t\t\tactiveTimer = false;\n\t\t\t\t\tstatus = STATUS.END;\n\n\t\t\t\t\tresetPomodoroColor();\n\t\t\t\t\tminutes = studyTime;\n\t\t\t\t\tseconds = 0;\n\t\t\t\t} else {\n\t\t\t\t\tif (studying) {\n\t\t\t\t\t\t// End of study session, enter pause\n\t\t\t\t\t\tconsole.log(\"Start pause session\");\n\t\t\t\t\t\tstatus = STATUS.PAUSE;\n\t\t\t\t\t\tstudying = false;\n\t\t\t\t\t\tplayRing();\n\t\t\t\t\t\tstartAnimation(false); // Passa false per l'animazione di pausa\n\t\t\t\t\t\tminutes = pauseTime;\n\t\t\t\t\t\tseconds = 0;\n\t\t\t\t\t\tcycles -= 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// End of pause session, start next study session\n\t\t\t\t\t\tconsole.log(\"Start study session\");\n\t\t\t\t\t\tstatus = STATUS.STUDY;\n\t\t\t\t\t\tstudying = true;\n\t\t\t\t\t\tplayRing();\n\t\t\t\t\t\tstartAnimation(true); // Passa true per l'animazione di studio\n\t\t\t\t\t\tminutes = studyTime;\n\t\t\t\t\t\tseconds = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction startAnimation(isStudying: boolean): void {\n\t\tconsole.log(isStudying);\n\t\tif (pomodoroRef.current) {\n\t\t\tpomodoroRef.current.classList.remove(\"animate-pomodoro\");\n\t\t\tpomodoroRef.current.classList.remove(\"reverse-animate-pomodoro\");\n\t\t\tif (isStudying) {\n\t\t\t\tpomodoroRef.current.style.animationDuration = `${data.studyTime * 60}s`;\n\t\t\t\tpomodoroRef.current.classList.add(\"animate-pomodoro\");\n\t\t\t} else {\n\t\t\t\tpomodoroRef.current.style.animationDuration = `${data.pauseTime * 60}s`;\n\t\t\t\tpomodoroRef.current.classList.add(\"reverse-animate-pomodoro\");\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction pad(value: number): string {\n\t\treturn value < 10 ? \"0\" + value : String(value);\n\t}\n\n\tfunction resetPomodoroColor(): void {\n\t\tif (pomodoroRef.current) {\n\t\t\tpomodoroRef.current.style.animationDuration = `0.1s`;\n\t\t\tpomodoroRef.current.classList.add(\"animate-pomodoro\");\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (pomodoroRef.current) {\n\t\t\t\t\tpomodoroRef.current.classList.remove(\"animate-pomodoro\");\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\t}\n\n\tfunction nextPhase(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} = prevData;\n\n\t\t\tif (cycles === 0) {\n\t\t\t\tclearInterval(prevData.intervalId);\n\n\t\t\t\tintervalId = undefined;\n\t\t\t\tactiveTimer = false;\n\t\t\t\tstatus = STATUS.END;\n\n\t\t\t\tresetPomodoroColor();\n\t\t\t\tminutes = studyTime;\n\t\t\t\tseconds = 0;\n\t\t\t} else {\n\t\t\t\tif (studying) {\n\t\t\t\t\t// End of study session, enter pause\n\t\t\t\t\tconsole.log(\"Start pause session\");\n\t\t\t\t\tstatus = STATUS.PAUSE;\n\t\t\t\t\tstudying = false;\n\t\t\t\t\tplayRing();\n\t\t\t\t\tstartAnimation(false); // Passa false per l'animazione di pausa\n\t\t\t\t\tminutes = pauseTime;\n\t\t\t\t\tseconds = 0;\n\t\t\t\t\tcycles -= 1;\n\t\t\t\t} else {\n\t\t\t\t\t// End of pause session, start next study session\n\t\t\t\t\tconsole.log(\"Start study session\");\n\t\t\t\t\tstatus = STATUS.STUDY;\n\t\t\t\t\tstudying = true;\n\t\t\t\t\tplayRing();\n\t\t\t\t\tstartAnimation(true); // Passa true per l'animazione di studio\n\t\t\t\t\tminutes = studyTime;\n\t\t\t\t\tseconds = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction nextCycle(): void {\n\t\tif (data.studying) {\n\t\t\tnextPhase();\n\t\t\tnextPhase();\n\t\t}\n\t\telse {\n\t\t\tnextPhase();\n\t\t}\n\t}\n\t\n\tfunction repeatCycle(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tstatus,\n\t\t\t} = prevData;\n\t\t\t\n\t\t\tif (!studying) {\n\t\t\t\tcycles += 1;\n\t\t\t}\n\t\t\t\tstatus = STATUS.STUDY;\n\t\t\t\tstudying = true;\n\t\t\t\tplayRing();\n\t\t\t\tstartAnimation(true); // Passa true per l'animazione di studio\n\t\t\t\tminutes = studyTime;\n\t\t\t\tseconds = 0;\n\n\t\t\t\n\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tstatus,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction proposalsMinutes(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\ttotMinutes,\n\t\t\t\tpauseTime,\n\t\t\t\tmessage,\n\t\t\t} = prevData;\n\n\t\t\tif (totMinutes <= 0 || totMinutes > 3465) {\n\t\t\t\tsetData({ ...data, message: MESSAGE.MINUTES });\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstudyTime = 30;\n\t\t\t\tpauseTime = 5;\n\t\t\t\tif (totMinutes%35 !== 0) {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35) + 1; // +1 perchè ho i tasti per passare avanti\n\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t  // quindi se il tempo totale è troppo non è un problema\n\t\t\t\telse {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tcycles,\n\t\t\t\tpauseTime,\n\t\t\t\tstudyTime,\n\t\t\t\tmessage,\n\t\t\t\ttotMinutes,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction proposalsHours(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tcycles,\n\t\t\t\tmessage,\n\t\t\t\tstudyTime,\n\t\t\t\tpauseTime,\n\t\t\t\ttotHours,\n\t\t\t\ttotMinutes,\n\t\t\t} = prevData;\n\t\t\t\n\t\t\ttotMinutes = totHours * 60;\n\t\t\tif (totMinutes <= 0 || totMinutes > 3465) {\n\t\t\t\tsetData({ ...data, message: MESSAGE.HOURS });\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstudyTime = 30;\n\t\t\t\tpauseTime = 5;\n\t\t\t\tif (totMinutes%35 !== 0) {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35) + 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35);\n\t\t\t\t}\n\t\t\t}\t\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tcycles,\n\t\t\t\tmessage,\n\t\t\t\tstudyTime,\n\t\t\t\tpauseTime,\n\t\t\t\ttotMinutes,\n\t\t\t\ttotHours,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tasync function handleCreateEvent(e: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n\t\te.preventDefault();\n\n\t\t/*const currentUser = await getCurrentUser();\n\t\tconsole.log(\"User corrente: \");\n\t\tconsole.log(currentUser);\n\t\t*/\n\n\t\t//Validazione dell'input\n\t\tif (!pomEvent.title || !pomEvent.startTime || !pomEvent.endTime) {\n\t\t\tsetMessage(\"Tutti i campi dell'evento devono essere riempiti!\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (pomEvent.startTime > pomEvent.endTime) {\n\t\t\tsetMessage(\"La data di inizio non può essere collocata dopo la data di fine!\");\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await fetch(`${SERVER_API}/events`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttitle: pomEvent.title,\n\t\t\t\tstartTime: pomEvent.startTime.toISOString(),\n\t\t\t\tendTime: pomEvent.endTime.toISOString(),\n\t\t\t\tfrequency: Frequency.ONCE,\n\t\t\t\tlocation: pomEvent.location,\n\t\t\t}),\n\t\t});\n\n\t\tconsole.log(pomEvent.title, pomEvent.startTime, pomEvent.endTime, pomEvent.location)\n\n\t\tif (!res.ok) {\n\t\t\tconst errorData = await res.json();\n\t\t\tconsole.error(\"Error response:\", errorData);\n\t\t\tsetMessage(\"Errore durante la creazione dell'evento: \" + errorData.message);\n\t\t\treturn;\n\t\t}\n\n\t\tconst data: ResponseBody = (await res.json()) as ResponseBody;\n\n\t\tsetMessage(data.message || \"Undefined error\");\n\n\t\twindow.location.reload()\n\n\t\t// TODO: send post request to server\n\t\t// TODO: handle response\n\t}\n\n\tfunction toggleEventTitle(): void {\n\t\tif (pomEvent.addTitle) {\n\t\t\t// Se addTitle è true (campo titolo visibile), lo disabilitiamo e impostiamo il titolo predefinito\n\t\t\tsetPomEvent({ ...pomEvent, title: \"Pomodoro Session\", addTitle: false });\n\t\t} else {\n\t\t\t// Se addTitle è false, riabilitiamo il campo per inserire un titolo personalizzato\n\t\t\tsetPomEvent({ ...pomEvent, title: \"\", addTitle: true });\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<>\n\t\t\t{message && <div>{message}</div>}\n\n\t\t\t<audio id=\"ring\" src=\"/images/ring.mp3\"></audio>\n\n\t\t\t<div className=\"pomodoro-container\">\n\t\t\t\t\n\t\t\t\t<header>\n\t\t\t\t\t<h1 id=\"title\" style={{ color: \"white\", fontWeight: \"bold\" }}>POMODORO TIMER</h1>\n\t\t\t\t</header>\n\n\t\t\t\t<div className=\"preview\">\n\t\t\t\t\t<div style={{ fontWeight: \"bold\" }}>POMODORO RECENTI:</div>\n\t\t\t\t\t{tomatoList.slice(-3).map((pomodoro, index) => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"previous-pomodoros\"\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={(): void =>\n\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\tstudyTime: pomodoro.studyTime,\n\t\t\t\t\t\t\t\t\tpauseTime: pomodoro.pauseTime,\n\t\t\t\t\t\t\t\t\tcycles: pomodoro.cycles,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{pomodoro.studyTime} min - {pomodoro.pauseTime} min - {pomodoro.cycles} cicli\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t\t<div ref={pomodoroRef} className=\"pomodoro\">\n\t\t\t\t\t<img src=\"/images/tomato.png\" alt=\"tomato.png\" />\n\t\t\t\t\t<div id=\"timer\" className=\"timer\">\n\t\t\t\t\t\t{data.activeTimer ? `${pad(data.minutes)}:${pad(data.seconds)}` : \"\"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<h4\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: \"0.5em auto 1em\",\n\t\t\t\t\t\t\twidth: \"300px\",\n\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{data.status}\n\t\t\t\t\t</h4>\n\n\t\t\t\t\t<div style={{display: \"flex\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"start-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\tonClick={handleSavePomodoroConfig}\n\t\t\t\t\t\t\tdisabled={data.activeTimer}>\n\t\t\t\t\t\t\tSTART\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"stop-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\n\t\t\t\t\t\t\tonClick={stopProcess}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tSTOP\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\t<br/>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"next-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-warning\"\n\t\t\t\t\t\t\tonClick={nextPhase}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tNEXT PHASE\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"next-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-warning\"\n\t\t\t\t\t\t\tonClick={nextCycle}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tNEXT CYCLE\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"next-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-warning\"\n\t\t\t\t\t\t\tonClick={repeatCycle}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tREPEAT CYCLE\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p className=\"paragraph\">{data.message}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello studyTime\">\n\t\t\t\t\t<label htmlFor=\"inputStudy\">Study time in minutes</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"inputStudy\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the time\"\n\t\t\t\t\t\tclassName=\"inputStudyTime\"\n\t\t\t\t\t\tid=\"inputStudy\"\n\t\t\t\t\t\tvalue={data.studyTime}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, studyTime: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello breakTime\">\n\t\t\t\t\t<label htmlFor=\"inputPause\"> Break time in minutes </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"inputPause\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the time\"\n\t\t\t\t\t\tid=\"inputPause\"\n\t\t\t\t\t\tvalue={data.pauseTime}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, pauseTime: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello studyCycles\">\n\t\t\t\t\t<label htmlFor=\"inputCycles\"> Number of study cycles </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"inputCycles\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the study cycles\"\n\t\t\t\t\t\tid=\"inputCycles\"\n\t\t\t\t\t\tvalue={data.cycles}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, cycles: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello totMinutes\">\n\t\t\t\t\t<label htmlFor=\"totMinutes\"> Total minutes of study </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"totMinutes\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the total minutes\"\n\t\t\t\t\t\tid=\"totMinutes\"\n\t\t\t\t\t\tvalue={data.totMinutes}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, totMinutes: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"minutesButton\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\tonClick={proposalsMinutes}\n\t\t\t\t\t\t\tdisabled={data.activeTimer}>\n\t\t\t\t\t\t\tUSE MINUTES\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello totHours\">\n\t\t\t\t\t<label htmlFor=\"totHours\"> Total hours of study </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"totHours\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the total hours\"\n\t\t\t\t\t\tid=\"totHours\"\n\t\t\t\t\t\tvalue={data.totHours}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, totHours: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"hoursButton\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\tonClick={proposalsHours}\n\t\t\t\t\t\t\tdisabled={data.activeTimer}>\n\t\t\t\t\t\t\tUSE HOURS\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"create-event-container col-2\">\n\t\t\t\t\t<form>\n\n\t\t\t\t\t<label htmlFor=\"useDefaultTitle\">\n\t\t\t\t\t\tIs it a \"Pomodoro Session\"\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tname=\"useDefaultTitle\"\n\t\t\t\t\t\t\tonClick={toggleEventTitle}\n\t\t\t\t\t\t/>\n                \t</label>\n\n\t\t\t\t\t\t{pomEvent.addTitle && (\n\t\t\t\t\t\t\t<label htmlFor=\"title\">\n\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tvalue={pomEvent.title}\n\t\t\t\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, title: e.target.value })}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<label htmlFor=\"startTime\">\n\t\t\t\t\t\t\tData Inizio\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\tname=\"startTime\"\n\t\t\t\t\t\t\t\t\tselected={pomEvent.startTime}\n\t\t\t\t\t\t\t\t\tonChange={(date: Date | null): void => {\n\t\t\t\t\t\t\t\t\t\tif (date) {\n\t\t\t\t\t\t\t\t\t\t\t// Aggiorna la data mantenendo l'orario attuale\n\t\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.startTime);\n\t\t\t\t\t\t\t\t\t\t\tnewDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n\t\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, startTime: newDate });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tvalue={`${pomEvent.startTime.getHours().toString().padStart(2, '0')}:${pomEvent.startTime.getMinutes().toString().padStart(2, '0')}`}\n\t\t\t\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\t\t\t\t\t\t\t\t\tconst [hours, minutes] = e.target.value.split(':');\n\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.startTime); // Crea un nuovo oggetto Date basato su startTime\n\t\t\t\t\t\t\t\t\t\tnewDate.setHours(Number(hours), Number(minutes), 0, 0); // Imposta l'orario\n\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, startTime: newDate });// Imposta il nuovo oggetto Date\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label htmlFor=\"endTime\">\n\t\t\t\t\t\t\tData Fine\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\tname=\"endTime\"\n\t\t\t\t\t\t\t\t\tselected={pomEvent.endTime}\n\t\t\t\t\t\t\t\t\tonChange={(date: Date | null): void => {\n\t\t\t\t\t\t\t\t\t\tif (date) {\n\t\t\t\t\t\t\t\t\t\t\t// Aggiorna la data mantenendo l'orario attuale\n\t\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.endTime);\n\t\t\t\t\t\t\t\t\t\t\tnewDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n\t\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, endTime: newDate });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tvalue={`${pomEvent.endTime.getHours().toString().padStart(2, '0')}:${pomEvent.endTime.getMinutes().toString().padStart(2, '0')}`}\n\t\t\t\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\t\t\t\t\t\t\t\t\tconst [hours, minutes] = e.target.value.split(':');\n\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.endTime);\n\t\t\t\t\t\t\t\t\t\tnewDate.setHours(Number(hours), Number(minutes)); // Aggiorna l'orario\n\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, endTime: newDate }); // Imposta il nuovo oggetto Date\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: \"bisque\",\n\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\tborder: \"0\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={handleCreateEvent}>\n\t\t\t\t\t\t\tCreate Event\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}