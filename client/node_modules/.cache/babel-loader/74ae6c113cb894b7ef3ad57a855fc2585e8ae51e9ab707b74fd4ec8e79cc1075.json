{"ast":null,"code":"var _jsxFileName = \"/Users/alessioprato/Desktop/SELFIE/client/src/Pomodoro.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useRef } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { SERVER_API } from \"./params/params\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ResponseStatus } from \"./types/ResponseStatus\";\nimport DatePicker from \"react-datepicker\"; //to create pomodoro events\n//import Time from \"react-datepicker/dist/time\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar MESSAGE = /*#__PURE__*/function (MESSAGE) {\n  MESSAGE[\"PRESS_START\"] = \"FILL THE SPACES AND PRESS START TO BEGIN!\";\n  MESSAGE[\"ERROR\"] = \"INSERT AN INTEGER NUMBER FOR STUDY TIME, PAUSE TIME AND STUDY CYCLES! (1-99)\";\n  MESSAGE[\"VOID\"] = \"\";\n  MESSAGE[\"MINUTES\"] = \"INSERT THE AMOUNT OF MINUTES OF STUDY (1-3465)\";\n  MESSAGE[\"HOURS\"] = \"INSERT THE AMOUNT OF HOURS OF STUDY (1-57)\";\n  return MESSAGE;\n}(MESSAGE || {});\nvar STATUS = /*#__PURE__*/function (STATUS) {\n  STATUS[\"BEGIN\"] = \"BEGIN SESSION\";\n  STATUS[\"STUDY\"] = \"STUDY\";\n  STATUS[\"PAUSE\"] = \"PAUSE\";\n  STATUS[\"END\"] = \"END OF SESSION\";\n  return STATUS;\n}(STATUS || {});\nvar Frequency = /*#__PURE__*/function (Frequency) {\n  Frequency[\"ONCE\"] = \"once\";\n  Frequency[\"DAILY\"] = \"day\";\n  Frequency[\"WEEKLY\"] = \"week\";\n  return Frequency;\n}(Frequency || {});\nconst initialPomEvent = {\n  addTitle: true,\n  title: \"\",\n  startTime: new Date(),\n  endTime: new Date(),\n  location: \"Napule\" //obviously it has to be changed but without something \n  //it gave me an error so I choosed a città chiù bell 'rò munn!!\n};\nconst initialState = {\n  studyTime: 30,\n  pauseTime: 5,\n  cycles: 5,\n  status: STATUS.BEGIN,\n  message: MESSAGE.PRESS_START,\n  minutes: 0,\n  seconds: 0,\n  studying: true,\n  activeTimer: false,\n  intervalId: undefined,\n  totMinutes: 0,\n  totHours: 0\n};\nexport default function Pomodoros() {\n  _s();\n  const [data, setData] = useState(initialState);\n  const [pomEvent, setPomEvent] = useState(initialPomEvent);\n  const [message, setMessage] = useState(\"\");\n  const [tomatoList, setTomatoList] = React.useState([]);\n  const pomodoroRef = useRef(null);\n  const nav = useNavigate();\n  React.useEffect(() => {\n    (async () => {\n      try {\n        const res = await fetch(`${SERVER_API}/pomodoro`);\n        if (res.status !== 200) {\n          nav(\"/login\");\n        }\n        // TODO: set session value as response\n        const data = await res.json();\n        console.log(data);\n        if (data.status === ResponseStatus.GOOD) {\n          setTomatoList(data.value);\n        } else {\n          setMessage(\"Errore nel ritrovamento dei pomodoro\");\n        }\n      } catch (e) {\n        setMessage(\"Impossibile raggiungere il server\");\n      }\n    })();\n  }, []);\n  function inputCheck() {\n    if (data.studyTime <= 0 || data.studyTime > 99 || data.pauseTime <= 0 || data.pauseTime > 99 || data.cycles <= 0 || data.cycles > 99) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  function playRing() {\n    const ring = document.getElementById(\"ring\");\n    if (ring) {\n      ring.play();\n    }\n  }\n  function startProcess() {\n    if (inputCheck()) {\n      playRing();\n      clearInterval(data.intervalId);\n      const interval = setInterval(() => {\n        updateTimer();\n      }, 1000); //mettere 1000\n\n      setData({\n        ...data,\n        message: MESSAGE.VOID,\n        studying: true,\n        activeTimer: true,\n        intervalId: interval,\n        status: STATUS.STUDY,\n        minutes: data.studyTime,\n        seconds: 0\n      });\n      startAnimation(true);\n    } else {\n      setData({\n        ...data,\n        message: MESSAGE.ERROR\n      });\n    }\n  }\n  async function handleSavePomodoroConfig(e) {\n    e.preventDefault();\n    try {\n      const pomodoroConfig = {\n        studyTime: data.studyTime,\n        pauseTime: data.pauseTime,\n        cycles: data.cycles,\n        owner: \"\"\n      };\n      console.log(\"Dati inviati al server:\", pomodoroConfig);\n      const res = await fetch(`${SERVER_API}/pomodoro`, {\n        method: \"POST\",\n        body: JSON.stringify(pomodoroConfig),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const resBody = await res.json();\n      if (resBody.status === ResponseStatus.GOOD) {\n        alert(\"Configurazione Pomodoro salvata correttamente!\");\n        startProcess();\n        //await updateTomatoList();\n      } else {\n        setMessage(\"Errore nel salvataggio della configurazione\");\n      }\n    } catch (e) {\n      setMessage(\"Impossibile raggiungere il server\");\n    }\n  }\n\n  //Funzione per aggiornare la lista dei pomodori in tempo reale (non funziona al momento)\n\n  /*const updateTomatoList = async (): Promise<void> => {\n  \ttry {\n  \t\tconst response = await fetch(`${SERVER_API}/pomodoro`);\n  \t\tif (!response.ok) {\n  \t\t\tthrow new Error('Failed to fetch pomodori');\n  \t\t}\n  \t\tconst fetchedTomatoes = await response.json();\n  \t\tsetTomatoList(fetchedTomatoes);\n  \t} catch (error) {\n  \t\tconsole.error(error);\n  \t}\n  };*/\n\n  function stopProcess() {\n    playRing();\n    stopTimer();\n  }\n  function stopTimer() {\n    clearInterval(data.intervalId);\n    setData(prevData => {\n      return {\n        ...prevData,\n        intervalId: undefined,\n        activeTimer: false,\n        status: STATUS.END\n      };\n    });\n    resetPomodoroColor();\n  }\n  function updateTimer() {\n    setData(prevData => {\n      let {\n        minutes,\n        seconds,\n        cycles,\n        studyTime,\n        studying,\n        pauseTime,\n        status,\n        intervalId,\n        activeTimer\n      } = prevData;\n      seconds -= 1;\n      if (seconds < 0) {\n        seconds = 59;\n        minutes -= 1;\n      }\n      if (minutes < 0) {\n        if (cycles === 0) {\n          clearInterval(prevData.intervalId);\n          intervalId = undefined;\n          activeTimer = false;\n          status = STATUS.END;\n          resetPomodoroColor();\n          minutes = studyTime;\n          seconds = 0;\n        } else {\n          if (studying) {\n            // End of study session, enter pause\n            console.log(\"Start pause session\");\n            status = STATUS.PAUSE;\n            studying = false;\n            playRing();\n            startAnimation(false); // Passa false per l'animazione di pausa\n            minutes = pauseTime;\n            seconds = 0;\n            cycles -= 1;\n          } else {\n            // End of pause session, start next study session\n            console.log(\"Start study session\");\n            status = STATUS.STUDY;\n            studying = true;\n            playRing();\n            startAnimation(true); // Passa true per l'animazione di studio\n            minutes = studyTime;\n            seconds = 0;\n          }\n        }\n      }\n      return {\n        ...prevData,\n        minutes,\n        seconds,\n        cycles,\n        studyTime,\n        studying,\n        pauseTime,\n        status,\n        intervalId,\n        activeTimer\n      };\n    });\n  }\n  function startAnimation(isStudying) {\n    console.log(isStudying);\n    if (pomodoroRef.current) {\n      pomodoroRef.current.classList.remove(\"animate-pomodoro\");\n      pomodoroRef.current.classList.remove(\"reverse-animate-pomodoro\");\n      if (isStudying) {\n        pomodoroRef.current.style.animationDuration = `${data.studyTime * 60}s`;\n        pomodoroRef.current.classList.add(\"animate-pomodoro\");\n      } else {\n        pomodoroRef.current.style.animationDuration = `${data.pauseTime * 60}s`;\n        pomodoroRef.current.classList.add(\"reverse-animate-pomodoro\");\n      }\n    }\n  }\n  function pad(value) {\n    return value < 10 ? \"0\" + value : String(value);\n  }\n  function resetPomodoroColor() {\n    if (pomodoroRef.current) {\n      pomodoroRef.current.style.animationDuration = `0.1s`;\n      pomodoroRef.current.classList.add(\"animate-pomodoro\");\n      setTimeout(() => {\n        if (pomodoroRef.current) {\n          pomodoroRef.current.classList.remove(\"animate-pomodoro\");\n        }\n      }, 100);\n    }\n  }\n  function nextPhase() {\n    setData(prevData => {\n      let {\n        minutes,\n        seconds,\n        cycles,\n        studyTime,\n        studying,\n        pauseTime,\n        status,\n        intervalId,\n        activeTimer\n      } = prevData;\n      if (cycles === 0) {\n        clearInterval(prevData.intervalId);\n        intervalId = undefined;\n        activeTimer = false;\n        status = STATUS.END;\n        resetPomodoroColor();\n        minutes = studyTime;\n        seconds = 0;\n      } else {\n        if (studying) {\n          // End of study session, enter pause\n          console.log(\"Start pause session\");\n          status = STATUS.PAUSE;\n          studying = false;\n          playRing();\n          startAnimation(false); // Passa false per l'animazione di pausa\n          minutes = pauseTime;\n          seconds = 0;\n          cycles -= 1;\n        } else {\n          // End of pause session, start next study session\n          console.log(\"Start study session\");\n          status = STATUS.STUDY;\n          studying = true;\n          playRing();\n          startAnimation(true); // Passa true per l'animazione di studio\n          minutes = studyTime;\n          seconds = 0;\n        }\n      }\n      return {\n        ...prevData,\n        minutes,\n        seconds,\n        cycles,\n        studyTime,\n        studying,\n        pauseTime,\n        status,\n        intervalId,\n        activeTimer\n      };\n    });\n  }\n  function nextCycle() {\n    if (data.studying) {\n      nextPhase();\n      nextPhase();\n    } else {\n      nextPhase();\n    }\n  }\n  function repeatCycle() {\n    setData(prevData => {\n      let {\n        minutes,\n        seconds,\n        cycles,\n        studyTime,\n        studying,\n        status\n      } = prevData;\n      if (!studying) {\n        cycles += 1;\n      }\n      status = STATUS.STUDY;\n      studying = true;\n      playRing();\n      startAnimation(true); // Passa true per l'animazione di studio\n      minutes = studyTime;\n      seconds = 0;\n      return {\n        ...prevData,\n        minutes,\n        seconds,\n        cycles,\n        studyTime,\n        studying,\n        status\n      };\n    });\n  }\n  function proposalsMinutes() {\n    setData(prevData => {\n      let {\n        cycles,\n        studyTime,\n        totMinutes,\n        pauseTime,\n        message\n      } = prevData;\n      if (totMinutes <= 0 || totMinutes > 3465) {\n        setData({\n          ...data,\n          message: MESSAGE.MINUTES\n        });\n      } else {\n        studyTime = 30;\n        pauseTime = 5;\n        if (totMinutes % 35 !== 0) {\n          cycles = Math.floor(totMinutes / 35) + 1; // +1 perchè ho i tasti per passare avanti\n        } // quindi se il tempo totale è troppo non è un problema\n        else {\n          cycles = Math.floor(totMinutes / 35);\n        }\n      }\n      return {\n        ...prevData,\n        cycles,\n        pauseTime,\n        studyTime,\n        message,\n        totMinutes\n      };\n    });\n  }\n  function proposalsHours() {\n    setData(prevData => {\n      let {\n        cycles,\n        message,\n        studyTime,\n        pauseTime,\n        totHours,\n        totMinutes\n      } = prevData;\n      totMinutes = totHours * 60;\n      if (totMinutes <= 0 || totMinutes > 3465) {\n        setData({\n          ...data,\n          message: MESSAGE.HOURS\n        });\n      } else {\n        studyTime = 30;\n        pauseTime = 5;\n        if (totMinutes % 35 !== 0) {\n          cycles = Math.floor(totMinutes / 35) + 1;\n        } else {\n          cycles = Math.floor(totMinutes / 35);\n        }\n      }\n      return {\n        ...prevData,\n        cycles,\n        message,\n        studyTime,\n        pauseTime,\n        totMinutes,\n        totHours\n      };\n    });\n  }\n  async function handleCreateEvent(e) {\n    e.preventDefault();\n\n    /*const currentUser = await getCurrentUser();\n    console.log(\"User corrente: \");\n    console.log(currentUser);\n    */\n\n    //Validazione dell'input\n    if (!pomEvent.title || !pomEvent.startTime || !pomEvent.endTime) {\n      setMessage(\"Tutti i campi dell'evento devono essere riempiti!\");\n      return;\n    }\n    if (pomEvent.startTime > pomEvent.endTime) {\n      setMessage(\"La data di inizio non può essere collocata dopo la data di fine!\");\n      return;\n    }\n    const res = await fetch(`${SERVER_API}/events`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        title: pomEvent.title,\n        startTime: pomEvent.startTime.toISOString(),\n        endTime: pomEvent.endTime.toISOString(),\n        frequency: Frequency.ONCE,\n        location: pomEvent.location\n      })\n    });\n    console.log(pomEvent.title, pomEvent.startTime, pomEvent.endTime, pomEvent.location);\n    if (!res.ok) {\n      const errorData = await res.json();\n      console.error(\"Error response:\", errorData);\n      setMessage(\"Errore durante la creazione dell'evento: \" + errorData.message);\n      return;\n    }\n    const data = await res.json();\n    setMessage(data.message || \"Undefined error\");\n    window.location.reload();\n\n    // TODO: send post request to server\n    // TODO: handle response\n  }\n  function toggleEventTitle() {\n    if (pomEvent.addTitle) {\n      // Se addTitle è true (campo titolo visibile), lo disabilitiamo e impostiamo il titolo predefinito\n      setPomEvent({\n        ...pomEvent,\n        title: \"Pomodoro Session\",\n        addTitle: false\n      });\n    } else {\n      // Se addTitle è false, riabilitiamo il campo per inserire un titolo personalizzato\n      setPomEvent({\n        ...pomEvent,\n        title: \"\",\n        addTitle: true\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [message && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      id: \"ring\",\n      src: \"/images/ring.mp3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pomodoro-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          id: \"title\",\n          style: {\n            color: \"white\",\n            fontWeight: \"bold\"\n          },\n          children: \"POMODORO TIMER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preview\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: \"bold\"\n          },\n          children: \"POMODORO RECENTI:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 6\n        }, this), tomatoList.slice(-3).map((pomodoro, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"previous-pomodoros\",\n          onClick: () => setData({\n            ...data,\n            studyTime: pomodoro.studyTime,\n            pauseTime: pomodoro.pauseTime,\n            cycles: pomodoro.cycles\n          }),\n          children: [pomodoro.studyTime, \" min - \", pomodoro.pauseTime, \" min - \", pomodoro.cycles, \" cicli\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 8\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 7\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: pomodoroRef,\n        className: \"pomodoro\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/images/tomato.png\",\n          alt: \"tomato.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"timer\",\n          className: \"timer\",\n          children: data.activeTimer ? `${pad(data.minutes)}:${pad(data.seconds)}` : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 605,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            margin: \"0.5em auto 1em\",\n            width: \"300px\",\n            color: \"white\",\n            textAlign: \"center\"\n          },\n          children: data.status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"start-button\" //probabilmente non serve l'id\n            ,\n            type: \"button\",\n            className: \"btn btn-success\",\n            onClick: handleSavePomodoroConfig,\n            disabled: data.activeTimer,\n            children: \"START\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 624,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"stop-button\" //probabilmente non serve l'id\n            ,\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: stopProcess,\n            disabled: !data.activeTimer,\n            children: \"STOP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"next-button\" //probabilmente non serve l'id\n            ,\n            type: \"button\",\n            className: \"btn btn-warning\",\n            onClick: nextPhase,\n            disabled: !data.activeTimer,\n            children: \"NEXT PHASE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"next-button\" //probabilmente non serve l'id\n            ,\n            type: \"button\",\n            className: \"btn btn-warning\",\n            onClick: nextCycle,\n            disabled: !data.activeTimer,\n            children: \"NEXT CYCLE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"next-button\" //probabilmente non serve l'id\n            ,\n            type: \"button\",\n            className: \"btn btn-warning\",\n            onClick: repeatCycle,\n            disabled: !data.activeTimer,\n            children: \"REPEAT CYCLE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"paragraph\",\n          children: data.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pannello studyTime\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"inputStudy\",\n          children: \"Study time in minutes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"inputStudy\",\n          type: \"number\",\n          placeholder: \"Enter the time\",\n          className: \"inputStudyTime\",\n          id: \"inputStudy\",\n          value: data.studyTime,\n          onChange: e => setData({\n            ...data,\n            studyTime: parseInt(e.target.value)\n          }),\n          disabled: data.activeTimer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pannello breakTime\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"inputPause\",\n          children: \" Break time in minutes \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"inputPause\",\n          type: \"number\",\n          placeholder: \"Enter the time\",\n          id: \"inputPause\",\n          value: data.pauseTime,\n          onChange: e => setData({\n            ...data,\n            pauseTime: parseInt(e.target.value)\n          }),\n          disabled: data.activeTimer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 693,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pannello studyCycles\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"inputCycles\",\n          children: \" Number of study cycles \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"inputCycles\",\n          type: \"number\",\n          placeholder: \"Enter the study cycles\",\n          id: \"inputCycles\",\n          value: data.cycles,\n          onChange: e => setData({\n            ...data,\n            cycles: parseInt(e.target.value)\n          }),\n          disabled: data.activeTimer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pannello totMinutes\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"totMinutes\",\n          children: \" Total minutes of study \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"totMinutes\",\n          type: \"number\",\n          placeholder: \"Enter the total minutes\",\n          id: \"totMinutes\",\n          value: data.totMinutes,\n          onChange: e => setData({\n            ...data,\n            totMinutes: parseInt(e.target.value)\n          }),\n          disabled: data.activeTimer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"minutesButton\" //probabilmente non serve l'id\n          ,\n          type: \"button\",\n          className: \"btn btn-success\",\n          onClick: proposalsMinutes,\n          disabled: data.activeTimer,\n          children: \"USE MINUTES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pannello totHours\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"totHours\",\n          children: \" Total hours of study \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"totHours\",\n          type: \"number\",\n          placeholder: \"Enter the total hours\",\n          id: \"totHours\",\n          value: data.totHours,\n          onChange: e => setData({\n            ...data,\n            totHours: parseInt(e.target.value)\n          }),\n          disabled: data.activeTimer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"hoursButton\" //probabilmente non serve l'id\n          ,\n          type: \"button\",\n          className: \"btn btn-success\",\n          onClick: proposalsHours,\n          disabled: data.activeTimer,\n          children: \"USE HOURS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-event-container col-2\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"useDefaultTitle\",\n            children: [\"Is it a \\\"Pomodoro Session\\\"\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              name: \"useDefaultTitle\",\n              onClick: toggleEventTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 6\n          }, this), pomEvent.addTitle && /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: [\"Title\", /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"btn border\",\n              type: \"text\",\n              name: \"title\",\n              value: pomEvent.title,\n              onChange: e => setPomEvent({\n                ...pomEvent,\n                title: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 784,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 782,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"startTime\",\n            children: [\"Data Inizio\", /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                className: \"btn border\",\n                name: \"startTime\",\n                selected: pomEvent.startTime,\n                onChange: date => {\n                  if (date) {\n                    // Aggiorna la data mantenendo l'orario attuale\n                    const newDate = new Date(pomEvent.startTime);\n                    newDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n                    setPomEvent({\n                      ...pomEvent,\n                      startTime: newDate\n                    });\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 799,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"btn border\",\n                type: \"time\",\n                value: `${pomEvent.startTime.getHours().toString().padStart(2, '0')}:${pomEvent.startTime.getMinutes().toString().padStart(2, '0')}`,\n                onChange: e => {\n                  const [hours, minutes] = e.target.value.split(':');\n                  const newDate = new Date(pomEvent.startTime); // Crea un nuovo oggetto Date basato su startTime\n                  newDate.setHours(Number(hours), Number(minutes), 0, 0); // Imposta l'orario\n                  setPomEvent({\n                    ...pomEvent,\n                    startTime: newDate\n                  }); // Imposta il nuovo oggetto Date\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"endTime\",\n            children: [\"Data Fine\", /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                className: \"btn border\",\n                name: \"endTime\",\n                selected: pomEvent.endTime,\n                onChange: date => {\n                  if (date) {\n                    // Aggiorna la data mantenendo l'orario attuale\n                    const newDate = new Date(pomEvent.endTime);\n                    newDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n                    setPomEvent({\n                      ...pomEvent,\n                      endTime: newDate\n                    });\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 831,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"btn border\",\n                type: \"time\",\n                value: `${pomEvent.endTime.getHours().toString().padStart(2, '0')}:${pomEvent.endTime.getMinutes().toString().padStart(2, '0')}`,\n                onChange: e => {\n                  const [hours, minutes] = e.target.value.split(':');\n                  const newDate = new Date(pomEvent.endTime);\n                  newDate.setHours(Number(hours), Number(minutes)); // Aggiorna l'orario\n                  setPomEvent({\n                    ...pomEvent,\n                    endTime: newDate\n                  }); // Imposta il nuovo oggetto Date\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 848,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 829,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            style: {\n              backgroundColor: \"bisque\",\n              color: \"white\",\n              border: \"0\"\n            },\n            onClick: handleCreateEvent,\n            children: \"Create Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 862,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 769,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n_s(Pomodoros, \"FsJpTB5XsCzjUuoiJDSXWsMxKKs=\", false, function () {\n  return [useNavigate];\n});\n_c = Pomodoros;\nvar _c;\n$RefreshReg$(_c, \"Pomodoros\");","map":{"version":3,"names":["React","useState","useRef","SERVER_API","useNavigate","ResponseStatus","DatePicker","jsxDEV","_jsxDEV","Fragment","_Fragment","MESSAGE","STATUS","Frequency","initialPomEvent","addTitle","title","startTime","Date","endTime","location","initialState","studyTime","pauseTime","cycles","status","BEGIN","message","PRESS_START","minutes","seconds","studying","activeTimer","intervalId","undefined","totMinutes","totHours","Pomodoros","_s","data","setData","pomEvent","setPomEvent","setMessage","tomatoList","setTomatoList","pomodoroRef","nav","useEffect","res","fetch","json","console","log","GOOD","value","e","inputCheck","playRing","ring","document","getElementById","play","startProcess","clearInterval","interval","setInterval","updateTimer","VOID","STUDY","startAnimation","ERROR","handleSavePomodoroConfig","preventDefault","pomodoroConfig","owner","method","body","JSON","stringify","headers","resBody","alert","stopProcess","stopTimer","prevData","END","resetPomodoroColor","PAUSE","isStudying","current","classList","remove","style","animationDuration","add","pad","String","setTimeout","nextPhase","nextCycle","repeatCycle","proposalsMinutes","MINUTES","Math","floor","proposalsHours","HOURS","handleCreateEvent","toISOString","frequency","ONCE","ok","errorData","error","window","reload","toggleEventTitle","children","fileName","_jsxFileName","lineNumber","columnNumber","id","src","className","color","fontWeight","slice","map","pomodoro","index","onClick","ref","alt","margin","width","textAlign","display","justifyContent","type","disabled","htmlFor","name","placeholder","onChange","parseInt","target","selected","date","newDate","setFullYear","getFullYear","getMonth","getDate","getHours","toString","padStart","getMinutes","hours","split","setHours","Number","backgroundColor","border","_c","$RefreshReg$"],"sources":["/Users/alessioprato/Desktop/SELFIE/client/src/Pomodoro.tsx"],"sourcesContent":["import React from \"react\";\nimport { useState, ChangeEvent, useRef } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { SERVER_API } from \"./params/params\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ResponseBody } from \"./types/ResponseBody\";\nimport { ResponseStatus } from \"./types/ResponseStatus\";\nimport Pomodoro from \"./types/Pomodoro\";\n\nimport DatePicker from \"react-datepicker\";\t//to create pomodoro events\n//import Time from \"react-datepicker/dist/time\";\n\n\nenum MESSAGE {\n\tPRESS_START = \"FILL THE SPACES AND PRESS START TO BEGIN!\",\n\tERROR = \"INSERT AN INTEGER NUMBER FOR STUDY TIME, PAUSE TIME AND STUDY CYCLES! (1-99)\",\n\tVOID = \"\",\n\tMINUTES = \"INSERT THE AMOUNT OF MINUTES OF STUDY (1-3465)\",\n\tHOURS = \"INSERT THE AMOUNT OF HOURS OF STUDY (1-57)\"\n}\n\nenum STATUS {\n\tBEGIN = \"BEGIN SESSION\",\n\tSTUDY = \"STUDY\",\n\tPAUSE = \"PAUSE\",\n\tEND = \"END OF SESSION\",\n}\n\nenum Frequency {\n\tONCE = \"once\",\n\tDAILY = \"day\",\n\tWEEKLY = \"week\",\n}\n\ntype PomodoroData = {\n\tstudyTime: number;\n\tpauseTime: number;\n\tcycles: number;\n\tstatus: STATUS;\n\tmessage: MESSAGE;\n\tminutes: number;\n\tseconds: number;\n\tstudying: boolean;\n\tactiveTimer: boolean;\n\tintervalId?: NodeJS.Timeout;\n\ttotMinutes: number;\n\ttotHours: number;\n};\n\ntype PomodoroEvent = {\n\taddTitle: boolean;\n\ttitle: string;\n\tstartTime: Date;\n\tendTime: Date;\n\tlocation: string;\n};\n\nconst initialPomEvent: PomodoroEvent = {\n\taddTitle: true,\n\ttitle: \"\",\n\tstartTime: new Date(),\n\tendTime: new Date(),\n\tlocation: \"Napule\",\t//obviously it has to be changed but without something \n\t\t\t\t\t\t//it gave me an error so I choosed a città chiù bell 'rò munn!!\n};\n\nconst initialState: PomodoroData = {\n\tstudyTime: 30,\n\tpauseTime: 5,\n\tcycles: 5,\n\tstatus: STATUS.BEGIN,\n\tmessage: MESSAGE.PRESS_START,\n\tminutes: 0,\n\tseconds: 0,\n\tstudying: true,\n\tactiveTimer: false,\n\tintervalId: undefined,\n\ttotMinutes: 0,\n\ttotHours: 0,\n};\n\nexport default function Pomodoros(): React.JSX.Element {\n\tconst [data, setData] = useState(initialState);\n\tconst [pomEvent, setPomEvent] = useState(initialPomEvent);\n\tconst [message, setMessage] = useState(\"\");\n\tconst [tomatoList, setTomatoList] = React.useState([] as Pomodoro[]);\n\n\tconst pomodoroRef = useRef<HTMLDivElement | null>(null);\n\n\tconst nav = useNavigate();\n\t\n\n\tReact.useEffect(() => {\n\t\t(async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tconst res = await fetch(`${SERVER_API}/pomodoro`);\n\t\t\t\tif (res.status !== 200) {\n\t\t\t\t\tnav(\"/login\");\n\t\t\t\t}\n\t\t\t\t// TODO: set session value as response\n\t\t\t\tconst data = (await res.json()) as ResponseBody;\n\n\t\t\t\tconsole.log(data);\n\n\t\t\t\tif (data.status === ResponseStatus.GOOD) {\n\t\t\t\t\tsetTomatoList(data.value as Pomodoro[]);\n\t\t\t\t} else {\n\t\t\t\t\tsetMessage(\"Errore nel ritrovamento dei pomodoro\");\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tsetMessage(\"Impossibile raggiungere il server\");\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tfunction inputCheck(): boolean {\n\t\tif (\n\t\t\tdata.studyTime <= 0 ||\n\t\t\tdata.studyTime > 99 ||\n\t\t\tdata.pauseTime <= 0 ||\n\t\t\tdata.pauseTime > 99 ||\n\t\t\tdata.cycles <= 0 ||\n\t\t\tdata.cycles > 99\n\t\t) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\tfunction playRing(): void {\n\t\tconst ring = document.getElementById(\"ring\") as HTMLAudioElement;\n\t\tif (ring) {\n\t\t\tring.play();\n\t\t}\n\t}\n\n\tfunction startProcess(): void {\n\t\tif (inputCheck()) {\n\t\t\tplayRing();\n\t\t\tclearInterval(data.intervalId);\n\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tupdateTimer();\n\t\t\t}, 1000);\t\t//mettere 1000\n\n\t\t\tsetData({\n\t\t\t\t...data,\n\t\t\t\tmessage: MESSAGE.VOID,\n\t\t\t\tstudying: true,\n\t\t\t\tactiveTimer: true,\n\t\t\t\tintervalId: interval,\n\t\t\t\tstatus: STATUS.STUDY,\n\t\t\t\tminutes: data.studyTime,\n\t\t\t\tseconds: 0,\n\t\t\t});\n\t\t\tstartAnimation(true);\n\t\t\t\n\t\t} else {\n\t\t\tsetData({ ...data, message: MESSAGE.ERROR });\n\t\t}\n\t}\n\n\tasync function handleSavePomodoroConfig(e: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n\t\te.preventDefault();\n\n\t\ttry {\n\t\t\tconst pomodoroConfig = {\n\t\t\t\tstudyTime: data.studyTime,\n\t\t\t\tpauseTime: data.pauseTime,\n\t\t\t\tcycles: data.cycles,\n\t\t\t\towner: \"\" ,\n\t\t\t};\n\t\t\tconsole.log(\"Dati inviati al server:\", pomodoroConfig);\n\n\t\t\tconst res = await fetch(`${SERVER_API}/pomodoro`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(pomodoroConfig),\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t});\n\t\n\t\t\tconst resBody = await res.json();\n\t\n\t\t\tif (resBody.status === ResponseStatus.GOOD) {\n\t\t\t\talert(\"Configurazione Pomodoro salvata correttamente!\");\n\t\t\t\tstartProcess();\n\t\t\t\t//await updateTomatoList();\n\t\t\t} else {\n\t\t\t\tsetMessage(\"Errore nel salvataggio della configurazione\");\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetMessage(\"Impossibile raggiungere il server\");\n\t\t}\n\t}\n\t\n\t//Funzione per aggiornare la lista dei pomodori in tempo reale (non funziona al momento)\n\n\t/*const updateTomatoList = async (): Promise<void> => {\n\t\ttry {\n\t\t\tconst response = await fetch(`${SERVER_API}/pomodoro`);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error('Failed to fetch pomodori');\n\t\t\t}\n\t\t\tconst fetchedTomatoes = await response.json();\n\t\t\tsetTomatoList(fetchedTomatoes);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};*/\n\t\n\n\tfunction stopProcess(): void {\n\t\tplayRing();\n\t\tstopTimer();\n\t}\n\n\tfunction stopTimer(): void {\n\t\tclearInterval(data.intervalId);\n\n\t\tsetData((prevData) => {\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tintervalId: undefined,\n\t\t\t\tactiveTimer: false,\n\t\t\t\tstatus: STATUS.END,\n\t\t\t};\n\t\t});\n\n\t\tresetPomodoroColor();\n\t}\n\n\tfunction updateTimer(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} = prevData;\n\n\t\t\tseconds -= 1;\n\t\t\tif (seconds < 0) {\n\t\t\t\tseconds = 59;\n\t\t\t\tminutes -= 1;\n\t\t\t}\n\n\t\t\tif (minutes < 0) {\n\t\t\t\tif (cycles === 0) {\n\t\t\t\t\tclearInterval(prevData.intervalId);\n\n\t\t\t\t\tintervalId = undefined;\n\t\t\t\t\tactiveTimer = false;\n\t\t\t\t\tstatus = STATUS.END;\n\n\t\t\t\t\tresetPomodoroColor();\n\t\t\t\t\tminutes = studyTime;\n\t\t\t\t\tseconds = 0;\n\t\t\t\t} else {\n\t\t\t\t\tif (studying) {\n\t\t\t\t\t\t// End of study session, enter pause\n\t\t\t\t\t\tconsole.log(\"Start pause session\");\n\t\t\t\t\t\tstatus = STATUS.PAUSE;\n\t\t\t\t\t\tstudying = false;\n\t\t\t\t\t\tplayRing();\n\t\t\t\t\t\tstartAnimation(false); // Passa false per l'animazione di pausa\n\t\t\t\t\t\tminutes = pauseTime;\n\t\t\t\t\t\tseconds = 0;\n\t\t\t\t\t\tcycles -= 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// End of pause session, start next study session\n\t\t\t\t\t\tconsole.log(\"Start study session\");\n\t\t\t\t\t\tstatus = STATUS.STUDY;\n\t\t\t\t\t\tstudying = true;\n\t\t\t\t\t\tplayRing();\n\t\t\t\t\t\tstartAnimation(true); // Passa true per l'animazione di studio\n\t\t\t\t\t\tminutes = studyTime;\n\t\t\t\t\t\tseconds = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction startAnimation(isStudying: boolean): void {\n\t\tconsole.log(isStudying);\n\t\tif (pomodoroRef.current) {\n\t\t\tpomodoroRef.current.classList.remove(\"animate-pomodoro\");\n\t\t\tpomodoroRef.current.classList.remove(\"reverse-animate-pomodoro\");\n\t\t\tif (isStudying) {\n\t\t\t\tpomodoroRef.current.style.animationDuration = `${data.studyTime * 60}s`;\n\t\t\t\tpomodoroRef.current.classList.add(\"animate-pomodoro\");\n\t\t\t} else {\n\t\t\t\tpomodoroRef.current.style.animationDuration = `${data.pauseTime * 60}s`;\n\t\t\t\tpomodoroRef.current.classList.add(\"reverse-animate-pomodoro\");\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction pad(value: number): string {\n\t\treturn value < 10 ? \"0\" + value : String(value);\n\t}\n\n\tfunction resetPomodoroColor(): void {\n\t\tif (pomodoroRef.current) {\n\t\t\tpomodoroRef.current.style.animationDuration = `0.1s`;\n\t\t\tpomodoroRef.current.classList.add(\"animate-pomodoro\");\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (pomodoroRef.current) {\n\t\t\t\t\tpomodoroRef.current.classList.remove(\"animate-pomodoro\");\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\t}\n\n\tfunction nextPhase(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} = prevData;\n\n\t\t\tif (cycles === 0) {\n\t\t\t\tclearInterval(prevData.intervalId);\n\n\t\t\t\tintervalId = undefined;\n\t\t\t\tactiveTimer = false;\n\t\t\t\tstatus = STATUS.END;\n\n\t\t\t\tresetPomodoroColor();\n\t\t\t\tminutes = studyTime;\n\t\t\t\tseconds = 0;\n\t\t\t} else {\n\t\t\t\tif (studying) {\n\t\t\t\t\t// End of study session, enter pause\n\t\t\t\t\tconsole.log(\"Start pause session\");\n\t\t\t\t\tstatus = STATUS.PAUSE;\n\t\t\t\t\tstudying = false;\n\t\t\t\t\tplayRing();\n\t\t\t\t\tstartAnimation(false); // Passa false per l'animazione di pausa\n\t\t\t\t\tminutes = pauseTime;\n\t\t\t\t\tseconds = 0;\n\t\t\t\t\tcycles -= 1;\n\t\t\t\t} else {\n\t\t\t\t\t// End of pause session, start next study session\n\t\t\t\t\tconsole.log(\"Start study session\");\n\t\t\t\t\tstatus = STATUS.STUDY;\n\t\t\t\t\tstudying = true;\n\t\t\t\t\tplayRing();\n\t\t\t\t\tstartAnimation(true); // Passa true per l'animazione di studio\n\t\t\t\t\tminutes = studyTime;\n\t\t\t\t\tseconds = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction nextCycle(): void {\n\t\tif (data.studying) {\n\t\t\tnextPhase();\n\t\t\tnextPhase();\n\t\t}\n\t\telse {\n\t\t\tnextPhase();\n\t\t}\n\t}\n\t\n\tfunction repeatCycle(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tstatus,\n\t\t\t} = prevData;\n\t\t\t\n\t\t\tif (!studying) {\n\t\t\t\tcycles += 1;\n\t\t\t}\n\t\t\t\tstatus = STATUS.STUDY;\n\t\t\t\tstudying = true;\n\t\t\t\tplayRing();\n\t\t\t\tstartAnimation(true); // Passa true per l'animazione di studio\n\t\t\t\tminutes = studyTime;\n\t\t\t\tseconds = 0;\n\n\t\t\t\n\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tstatus,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction proposalsMinutes(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\ttotMinutes,\n\t\t\t\tpauseTime,\n\t\t\t\tmessage,\n\t\t\t} = prevData;\n\n\t\t\tif (totMinutes <= 0 || totMinutes > 3465) {\n\t\t\t\tsetData({ ...data, message: MESSAGE.MINUTES });\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstudyTime = 30;\n\t\t\t\tpauseTime = 5;\n\t\t\t\tif (totMinutes%35 !== 0) {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35) + 1; // +1 perchè ho i tasti per passare avanti\n\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t  // quindi se il tempo totale è troppo non è un problema\n\t\t\t\telse {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tcycles,\n\t\t\t\tpauseTime,\n\t\t\t\tstudyTime,\n\t\t\t\tmessage,\n\t\t\t\ttotMinutes,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction proposalsHours(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tcycles,\n\t\t\t\tmessage,\n\t\t\t\tstudyTime,\n\t\t\t\tpauseTime,\n\t\t\t\ttotHours,\n\t\t\t\ttotMinutes,\n\t\t\t} = prevData;\n\t\t\t\n\t\t\ttotMinutes = totHours * 60;\n\t\t\tif (totMinutes <= 0 || totMinutes > 3465) {\n\t\t\t\tsetData({ ...data, message: MESSAGE.HOURS });\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstudyTime = 30;\n\t\t\t\tpauseTime = 5;\n\t\t\t\tif (totMinutes%35 !== 0) {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35) + 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35);\n\t\t\t\t}\n\t\t\t}\t\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tcycles,\n\t\t\t\tmessage,\n\t\t\t\tstudyTime,\n\t\t\t\tpauseTime,\n\t\t\t\ttotMinutes,\n\t\t\t\ttotHours,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tasync function handleCreateEvent(e: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n\t\te.preventDefault();\n\n\t\t/*const currentUser = await getCurrentUser();\n\t\tconsole.log(\"User corrente: \");\n\t\tconsole.log(currentUser);\n\t\t*/\n\n\t\t//Validazione dell'input\n\t\tif (!pomEvent.title || !pomEvent.startTime || !pomEvent.endTime) {\n\t\t\tsetMessage(\"Tutti i campi dell'evento devono essere riempiti!\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (pomEvent.startTime > pomEvent.endTime) {\n\t\t\tsetMessage(\"La data di inizio non può essere collocata dopo la data di fine!\");\n\t\t\treturn;\n\t\t}\n\n\t\tconst res = await fetch(`${SERVER_API}/events`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttitle: pomEvent.title,\n\t\t\t\tstartTime: pomEvent.startTime.toISOString(),\n\t\t\t\tendTime: pomEvent.endTime.toISOString(),\n\t\t\t\tfrequency: Frequency.ONCE,\n\t\t\t\tlocation: pomEvent.location,\n\t\t\t}),\n\t\t});\n\n\t\tconsole.log(pomEvent.title, pomEvent.startTime, pomEvent.endTime, pomEvent.location)\n\n\t\tif (!res.ok) {\n\t\t\tconst errorData = await res.json();\n\t\t\tconsole.error(\"Error response:\", errorData);\n\t\t\tsetMessage(\"Errore durante la creazione dell'evento: \" + errorData.message);\n\t\t\treturn;\n\t\t}\n\n\t\tconst data: ResponseBody = (await res.json()) as ResponseBody;\n\n\t\tsetMessage(data.message || \"Undefined error\");\n\n\t\twindow.location.reload()\n\n\t\t// TODO: send post request to server\n\t\t// TODO: handle response\n\t}\n\n\tfunction toggleEventTitle(): void {\n\t\tif (pomEvent.addTitle) {\n\t\t\t// Se addTitle è true (campo titolo visibile), lo disabilitiamo e impostiamo il titolo predefinito\n\t\t\tsetPomEvent({ ...pomEvent, title: \"Pomodoro Session\", addTitle: false });\n\t\t} else {\n\t\t\t// Se addTitle è false, riabilitiamo il campo per inserire un titolo personalizzato\n\t\t\tsetPomEvent({ ...pomEvent, title: \"\", addTitle: true });\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<>\n\t\t\t{message && <div>{message}</div>}\n\n\t\t\t<audio id=\"ring\" src=\"/images/ring.mp3\"></audio>\n\n\t\t\t<div className=\"pomodoro-container\">\n\t\t\t\t\n\t\t\t\t<header>\n\t\t\t\t\t<h1 id=\"title\" style={{ color: \"white\", fontWeight: \"bold\" }}>POMODORO TIMER</h1>\n\t\t\t\t</header>\n\n\t\t\t\t<div className=\"preview\">\n\t\t\t\t\t<div style={{ fontWeight: \"bold\" }}>POMODORO RECENTI:</div>\n\t\t\t\t\t{tomatoList.slice(-3).map((pomodoro, index) => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"previous-pomodoros\"\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={(): void =>\n\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\tstudyTime: pomodoro.studyTime,\n\t\t\t\t\t\t\t\t\tpauseTime: pomodoro.pauseTime,\n\t\t\t\t\t\t\t\t\tcycles: pomodoro.cycles,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{pomodoro.studyTime} min - {pomodoro.pauseTime} min - {pomodoro.cycles} cicli\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t\t<div ref={pomodoroRef} className=\"pomodoro\">\n\t\t\t\t\t<img src=\"/images/tomato.png\" alt=\"tomato.png\" />\n\t\t\t\t\t<div id=\"timer\" className=\"timer\">\n\t\t\t\t\t\t{data.activeTimer ? `${pad(data.minutes)}:${pad(data.seconds)}` : \"\"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<h4\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: \"0.5em auto 1em\",\n\t\t\t\t\t\t\twidth: \"300px\",\n\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{data.status}\n\t\t\t\t\t</h4>\n\n\t\t\t\t\t<div style={{display: \"flex\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"start-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\tonClick={handleSavePomodoroConfig}\n\t\t\t\t\t\t\tdisabled={data.activeTimer}>\n\t\t\t\t\t\t\tSTART\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"stop-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-danger\"\n\t\t\t\t\t\t\tonClick={stopProcess}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tSTOP\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\t<br/>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"next-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-warning\"\n\t\t\t\t\t\t\tonClick={nextPhase}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tNEXT PHASE\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"next-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-warning\"\n\t\t\t\t\t\t\tonClick={nextCycle}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tNEXT CYCLE\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"next-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-warning\"\n\t\t\t\t\t\t\tonClick={repeatCycle}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tREPEAT CYCLE\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p className=\"paragraph\">{data.message}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello studyTime\">\n\t\t\t\t\t<label htmlFor=\"inputStudy\">Study time in minutes</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"inputStudy\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the time\"\n\t\t\t\t\t\tclassName=\"inputStudyTime\"\n\t\t\t\t\t\tid=\"inputStudy\"\n\t\t\t\t\t\tvalue={data.studyTime}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, studyTime: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello breakTime\">\n\t\t\t\t\t<label htmlFor=\"inputPause\"> Break time in minutes </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"inputPause\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the time\"\n\t\t\t\t\t\tid=\"inputPause\"\n\t\t\t\t\t\tvalue={data.pauseTime}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, pauseTime: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello studyCycles\">\n\t\t\t\t\t<label htmlFor=\"inputCycles\"> Number of study cycles </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"inputCycles\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the study cycles\"\n\t\t\t\t\t\tid=\"inputCycles\"\n\t\t\t\t\t\tvalue={data.cycles}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, cycles: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello totMinutes\">\n\t\t\t\t\t<label htmlFor=\"totMinutes\"> Total minutes of study </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"totMinutes\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the total minutes\"\n\t\t\t\t\t\tid=\"totMinutes\"\n\t\t\t\t\t\tvalue={data.totMinutes}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, totMinutes: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"minutesButton\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\tonClick={proposalsMinutes}\n\t\t\t\t\t\t\tdisabled={data.activeTimer}>\n\t\t\t\t\t\t\tUSE MINUTES\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello totHours\">\n\t\t\t\t\t<label htmlFor=\"totHours\"> Total hours of study </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"totHours\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the total hours\"\n\t\t\t\t\t\tid=\"totHours\"\n\t\t\t\t\t\tvalue={data.totHours}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, totHours: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"hoursButton\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\tonClick={proposalsHours}\n\t\t\t\t\t\t\tdisabled={data.activeTimer}>\n\t\t\t\t\t\t\tUSE HOURS\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"create-event-container col-2\">\n\t\t\t\t\t<form>\n\n\t\t\t\t\t<label htmlFor=\"useDefaultTitle\">\n\t\t\t\t\t\tIs it a \"Pomodoro Session\"\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tname=\"useDefaultTitle\"\n\t\t\t\t\t\t\tonClick={toggleEventTitle}\n\t\t\t\t\t\t/>\n                \t</label>\n\n\t\t\t\t\t\t{pomEvent.addTitle && (\n\t\t\t\t\t\t\t<label htmlFor=\"title\">\n\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tvalue={pomEvent.title}\n\t\t\t\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, title: e.target.value })}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<label htmlFor=\"startTime\">\n\t\t\t\t\t\t\tData Inizio\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\tname=\"startTime\"\n\t\t\t\t\t\t\t\t\tselected={pomEvent.startTime}\n\t\t\t\t\t\t\t\t\tonChange={(date: Date | null): void => {\n\t\t\t\t\t\t\t\t\t\tif (date) {\n\t\t\t\t\t\t\t\t\t\t\t// Aggiorna la data mantenendo l'orario attuale\n\t\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.startTime);\n\t\t\t\t\t\t\t\t\t\t\tnewDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n\t\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, startTime: newDate });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tvalue={`${pomEvent.startTime.getHours().toString().padStart(2, '0')}:${pomEvent.startTime.getMinutes().toString().padStart(2, '0')}`}\n\t\t\t\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\t\t\t\t\t\t\t\t\tconst [hours, minutes] = e.target.value.split(':');\n\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.startTime); // Crea un nuovo oggetto Date basato su startTime\n\t\t\t\t\t\t\t\t\t\tnewDate.setHours(Number(hours), Number(minutes), 0, 0); // Imposta l'orario\n\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, startTime: newDate });// Imposta il nuovo oggetto Date\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label htmlFor=\"endTime\">\n\t\t\t\t\t\t\tData Fine\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\tname=\"endTime\"\n\t\t\t\t\t\t\t\t\tselected={pomEvent.endTime}\n\t\t\t\t\t\t\t\t\tonChange={(date: Date | null): void => {\n\t\t\t\t\t\t\t\t\t\tif (date) {\n\t\t\t\t\t\t\t\t\t\t\t// Aggiorna la data mantenendo l'orario attuale\n\t\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.endTime);\n\t\t\t\t\t\t\t\t\t\t\tnewDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n\t\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, endTime: newDate });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"btn border\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tvalue={`${pomEvent.endTime.getHours().toString().padStart(2, '0')}:${pomEvent.endTime.getMinutes().toString().padStart(2, '0')}`}\n\t\t\t\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\t\t\t\t\t\t\t\t\tconst [hours, minutes] = e.target.value.split(':');\n\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.endTime);\n\t\t\t\t\t\t\t\t\t\tnewDate.setHours(Number(hours), Number(minutes)); // Aggiorna l'orario\n\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, endTime: newDate }); // Imposta il nuovo oggetto Date\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: \"bisque\",\n\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\tborder: \"0\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={handleCreateEvent}>\n\t\t\t\t\t\t\tCreate Event\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAeC,MAAM,QAAQ,OAAO;AACrD,OAAO,sCAAsC;AAC7C,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,SAASC,cAAc,QAAQ,wBAAwB;AAGvD,OAAOC,UAAU,MAAM,kBAAkB,CAAC,CAAC;AAC3C;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAAA,IAGKC,OAAO,0BAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAPA,OAAO;EAAA,OAAPA,OAAO;AAAA,EAAPA,OAAO;AAAA,IAQPC,MAAM,0BAANA,MAAM;EAANA,MAAM;EAANA,MAAM;EAANA,MAAM;EAANA,MAAM;EAAA,OAANA,MAAM;AAAA,EAANA,MAAM;AAAA,IAONC,SAAS,0BAATA,SAAS;EAATA,SAAS;EAATA,SAAS;EAATA,SAAS;EAAA,OAATA,SAAS;AAAA,EAATA,SAAS;AA6Bd,MAAMC,eAA8B,GAAG;EACtCC,QAAQ,EAAE,IAAI;EACdC,KAAK,EAAE,EAAE;EACTC,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC;EACrBC,OAAO,EAAE,IAAID,IAAI,CAAC,CAAC;EACnBE,QAAQ,EAAE,QAAQ,CAAE;EACf;AACN,CAAC;AAED,MAAMC,YAA0B,GAAG;EAClCC,SAAS,EAAE,EAAE;EACbC,SAAS,EAAE,CAAC;EACZC,MAAM,EAAE,CAAC;EACTC,MAAM,EAAEb,MAAM,CAACc,KAAK;EACpBC,OAAO,EAAEhB,OAAO,CAACiB,WAAW;EAC5BC,OAAO,EAAE,CAAC;EACVC,OAAO,EAAE,CAAC;EACVC,QAAQ,EAAE,IAAI;EACdC,WAAW,EAAE,KAAK;EAClBC,UAAU,EAAEC,SAAS;EACrBC,UAAU,EAAE,CAAC;EACbC,QAAQ,EAAE;AACX,CAAC;AAED,eAAe,SAASC,SAASA,CAAA,EAAsB;EAAAC,EAAA;EACtD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGvC,QAAQ,CAACoB,YAAY,CAAC;EAC9C,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGzC,QAAQ,CAACa,eAAe,CAAC;EACzD,MAAM,CAACa,OAAO,EAAEgB,UAAU,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC2C,UAAU,EAAEC,aAAa,CAAC,GAAG7C,KAAK,CAACC,QAAQ,CAAC,EAAgB,CAAC;EAEpE,MAAM6C,WAAW,GAAG5C,MAAM,CAAwB,IAAI,CAAC;EAEvD,MAAM6C,GAAG,GAAG3C,WAAW,CAAC,CAAC;EAGzBJ,KAAK,CAACgD,SAAS,CAAC,MAAM;IACrB,CAAC,YAA2B;MAC3B,IAAI;QACH,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAG/C,UAAU,WAAW,CAAC;QACjD,IAAI8C,GAAG,CAACxB,MAAM,KAAK,GAAG,EAAE;UACvBsB,GAAG,CAAC,QAAQ,CAAC;QACd;QACA;QACA,MAAMR,IAAI,GAAI,MAAMU,GAAG,CAACE,IAAI,CAAC,CAAkB;QAE/CC,OAAO,CAACC,GAAG,CAACd,IAAI,CAAC;QAEjB,IAAIA,IAAI,CAACd,MAAM,KAAKpB,cAAc,CAACiD,IAAI,EAAE;UACxCT,aAAa,CAACN,IAAI,CAACgB,KAAmB,CAAC;QACxC,CAAC,MAAM;UACNZ,UAAU,CAAC,sCAAsC,CAAC;QACnD;MACD,CAAC,CAAC,OAAOa,CAAC,EAAE;QACXb,UAAU,CAAC,mCAAmC,CAAC;MAChD;IACD,CAAC,EAAE,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,SAASc,UAAUA,CAAA,EAAY;IAC9B,IACClB,IAAI,CAACjB,SAAS,IAAI,CAAC,IACnBiB,IAAI,CAACjB,SAAS,GAAG,EAAE,IACnBiB,IAAI,CAAChB,SAAS,IAAI,CAAC,IACnBgB,IAAI,CAAChB,SAAS,GAAG,EAAE,IACnBgB,IAAI,CAACf,MAAM,IAAI,CAAC,IAChBe,IAAI,CAACf,MAAM,GAAG,EAAE,EACf;MACD,OAAO,KAAK;IACb,CAAC,MAAM;MACN,OAAO,IAAI;IACZ;EACD;EACA,SAASkC,QAAQA,CAAA,EAAS;IACzB,MAAMC,IAAI,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAqB;IAChE,IAAIF,IAAI,EAAE;MACTA,IAAI,CAACG,IAAI,CAAC,CAAC;IACZ;EACD;EAEA,SAASC,YAAYA,CAAA,EAAS;IAC7B,IAAIN,UAAU,CAAC,CAAC,EAAE;MACjBC,QAAQ,CAAC,CAAC;MACVM,aAAa,CAACzB,IAAI,CAACN,UAAU,CAAC;MAE9B,MAAMgC,QAAQ,GAAGC,WAAW,CAAC,MAAM;QAClCC,WAAW,CAAC,CAAC;MACd,CAAC,EAAE,IAAI,CAAC,CAAC,CAAE;;MAEX3B,OAAO,CAAC;QACP,GAAGD,IAAI;QACPZ,OAAO,EAAEhB,OAAO,CAACyD,IAAI;QACrBrC,QAAQ,EAAE,IAAI;QACdC,WAAW,EAAE,IAAI;QACjBC,UAAU,EAAEgC,QAAQ;QACpBxC,MAAM,EAAEb,MAAM,CAACyD,KAAK;QACpBxC,OAAO,EAAEU,IAAI,CAACjB,SAAS;QACvBQ,OAAO,EAAE;MACV,CAAC,CAAC;MACFwC,cAAc,CAAC,IAAI,CAAC;IAErB,CAAC,MAAM;MACN9B,OAAO,CAAC;QAAE,GAAGD,IAAI;QAAEZ,OAAO,EAAEhB,OAAO,CAAC4D;MAAM,CAAC,CAAC;IAC7C;EACD;EAEA,eAAeC,wBAAwBA,CAAChB,CAAsC,EAAiB;IAC9FA,CAAC,CAACiB,cAAc,CAAC,CAAC;IAElB,IAAI;MACH,MAAMC,cAAc,GAAG;QACtBpD,SAAS,EAAEiB,IAAI,CAACjB,SAAS;QACzBC,SAAS,EAAEgB,IAAI,CAAChB,SAAS;QACzBC,MAAM,EAAEe,IAAI,CAACf,MAAM;QACnBmD,KAAK,EAAE;MACR,CAAC;MACDvB,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEqB,cAAc,CAAC;MAEtD,MAAMzB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAG/C,UAAU,WAAW,EAAE;QACjDyE,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,cAAc,CAAC;QACpCM,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB;MAC/C,CAAC,CAAC;MAEF,MAAMC,OAAO,GAAG,MAAMhC,GAAG,CAACE,IAAI,CAAC,CAAC;MAEhC,IAAI8B,OAAO,CAACxD,MAAM,KAAKpB,cAAc,CAACiD,IAAI,EAAE;QAC3C4B,KAAK,CAAC,gDAAgD,CAAC;QACvDnB,YAAY,CAAC,CAAC;QACd;MACD,CAAC,MAAM;QACNpB,UAAU,CAAC,6CAA6C,CAAC;MAC1D;IACD,CAAC,CAAC,OAAOa,CAAC,EAAE;MACXb,UAAU,CAAC,mCAAmC,CAAC;IAChD;EACD;;EAEA;;EAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAGC,SAASwC,WAAWA,CAAA,EAAS;IAC5BzB,QAAQ,CAAC,CAAC;IACV0B,SAAS,CAAC,CAAC;EACZ;EAEA,SAASA,SAASA,CAAA,EAAS;IAC1BpB,aAAa,CAACzB,IAAI,CAACN,UAAU,CAAC;IAE9BO,OAAO,CAAE6C,QAAQ,IAAK;MACrB,OAAO;QACN,GAAGA,QAAQ;QACXpD,UAAU,EAAEC,SAAS;QACrBF,WAAW,EAAE,KAAK;QAClBP,MAAM,EAAEb,MAAM,CAAC0E;MAChB,CAAC;IACF,CAAC,CAAC;IAEFC,kBAAkB,CAAC,CAAC;EACrB;EAEA,SAASpB,WAAWA,CAAA,EAAS;IAC5B3B,OAAO,CAAE6C,QAAQ,IAAK;MACrB,IAAI;QACHxD,OAAO;QACPC,OAAO;QACPN,MAAM;QACNF,SAAS;QACTS,QAAQ;QACRR,SAAS;QACTE,MAAM;QACNQ,UAAU;QACVD;MACD,CAAC,GAAGqD,QAAQ;MAEZvD,OAAO,IAAI,CAAC;MACZ,IAAIA,OAAO,GAAG,CAAC,EAAE;QAChBA,OAAO,GAAG,EAAE;QACZD,OAAO,IAAI,CAAC;MACb;MAEA,IAAIA,OAAO,GAAG,CAAC,EAAE;QAChB,IAAIL,MAAM,KAAK,CAAC,EAAE;UACjBwC,aAAa,CAACqB,QAAQ,CAACpD,UAAU,CAAC;UAElCA,UAAU,GAAGC,SAAS;UACtBF,WAAW,GAAG,KAAK;UACnBP,MAAM,GAAGb,MAAM,CAAC0E,GAAG;UAEnBC,kBAAkB,CAAC,CAAC;UACpB1D,OAAO,GAAGP,SAAS;UACnBQ,OAAO,GAAG,CAAC;QACZ,CAAC,MAAM;UACN,IAAIC,QAAQ,EAAE;YACb;YACAqB,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;YAClC5B,MAAM,GAAGb,MAAM,CAAC4E,KAAK;YACrBzD,QAAQ,GAAG,KAAK;YAChB2B,QAAQ,CAAC,CAAC;YACVY,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;YACvBzC,OAAO,GAAGN,SAAS;YACnBO,OAAO,GAAG,CAAC;YACXN,MAAM,IAAI,CAAC;UACZ,CAAC,MAAM;YACN;YACA4B,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;YAClC5B,MAAM,GAAGb,MAAM,CAACyD,KAAK;YACrBtC,QAAQ,GAAG,IAAI;YACf2B,QAAQ,CAAC,CAAC;YACVY,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;YACtBzC,OAAO,GAAGP,SAAS;YACnBQ,OAAO,GAAG,CAAC;UACZ;QACD;MACD;MAEA,OAAO;QACN,GAAGuD,QAAQ;QACXxD,OAAO;QACPC,OAAO;QACPN,MAAM;QACNF,SAAS;QACTS,QAAQ;QACRR,SAAS;QACTE,MAAM;QACNQ,UAAU;QACVD;MACD,CAAC;IACF,CAAC,CAAC;EACH;EAEA,SAASsC,cAAcA,CAACmB,UAAmB,EAAQ;IAClDrC,OAAO,CAACC,GAAG,CAACoC,UAAU,CAAC;IACvB,IAAI3C,WAAW,CAAC4C,OAAO,EAAE;MACxB5C,WAAW,CAAC4C,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC,kBAAkB,CAAC;MACxD9C,WAAW,CAAC4C,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC,0BAA0B,CAAC;MAChE,IAAIH,UAAU,EAAE;QACf3C,WAAW,CAAC4C,OAAO,CAACG,KAAK,CAACC,iBAAiB,GAAG,GAAGvD,IAAI,CAACjB,SAAS,GAAG,EAAE,GAAG;QACvEwB,WAAW,CAAC4C,OAAO,CAACC,SAAS,CAACI,GAAG,CAAC,kBAAkB,CAAC;MACtD,CAAC,MAAM;QACNjD,WAAW,CAAC4C,OAAO,CAACG,KAAK,CAACC,iBAAiB,GAAG,GAAGvD,IAAI,CAAChB,SAAS,GAAG,EAAE,GAAG;QACvEuB,WAAW,CAAC4C,OAAO,CAACC,SAAS,CAACI,GAAG,CAAC,0BAA0B,CAAC;MAC9D;IACD;EACD;EAEA,SAASC,GAAGA,CAACzC,KAAa,EAAU;IACnC,OAAOA,KAAK,GAAG,EAAE,GAAG,GAAG,GAAGA,KAAK,GAAG0C,MAAM,CAAC1C,KAAK,CAAC;EAChD;EAEA,SAASgC,kBAAkBA,CAAA,EAAS;IACnC,IAAIzC,WAAW,CAAC4C,OAAO,EAAE;MACxB5C,WAAW,CAAC4C,OAAO,CAACG,KAAK,CAACC,iBAAiB,GAAG,MAAM;MACpDhD,WAAW,CAAC4C,OAAO,CAACC,SAAS,CAACI,GAAG,CAAC,kBAAkB,CAAC;MAErDG,UAAU,CAAC,MAAM;QAChB,IAAIpD,WAAW,CAAC4C,OAAO,EAAE;UACxB5C,WAAW,CAAC4C,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC,kBAAkB,CAAC;QACzD;MACD,CAAC,EAAE,GAAG,CAAC;IACR;EACD;EAEA,SAASO,SAASA,CAAA,EAAS;IAC1B3D,OAAO,CAAE6C,QAAQ,IAAK;MACrB,IAAI;QACHxD,OAAO;QACPC,OAAO;QACPN,MAAM;QACNF,SAAS;QACTS,QAAQ;QACRR,SAAS;QACTE,MAAM;QACNQ,UAAU;QACVD;MACD,CAAC,GAAGqD,QAAQ;MAEZ,IAAI7D,MAAM,KAAK,CAAC,EAAE;QACjBwC,aAAa,CAACqB,QAAQ,CAACpD,UAAU,CAAC;QAElCA,UAAU,GAAGC,SAAS;QACtBF,WAAW,GAAG,KAAK;QACnBP,MAAM,GAAGb,MAAM,CAAC0E,GAAG;QAEnBC,kBAAkB,CAAC,CAAC;QACpB1D,OAAO,GAAGP,SAAS;QACnBQ,OAAO,GAAG,CAAC;MACZ,CAAC,MAAM;QACN,IAAIC,QAAQ,EAAE;UACb;UACAqB,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;UAClC5B,MAAM,GAAGb,MAAM,CAAC4E,KAAK;UACrBzD,QAAQ,GAAG,KAAK;UAChB2B,QAAQ,CAAC,CAAC;UACVY,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;UACvBzC,OAAO,GAAGN,SAAS;UACnBO,OAAO,GAAG,CAAC;UACXN,MAAM,IAAI,CAAC;QACZ,CAAC,MAAM;UACN;UACA4B,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;UAClC5B,MAAM,GAAGb,MAAM,CAACyD,KAAK;UACrBtC,QAAQ,GAAG,IAAI;UACf2B,QAAQ,CAAC,CAAC;UACVY,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;UACtBzC,OAAO,GAAGP,SAAS;UACnBQ,OAAO,GAAG,CAAC;QACZ;MACD;MAEA,OAAO;QACN,GAAGuD,QAAQ;QACXxD,OAAO;QACPC,OAAO;QACPN,MAAM;QACNF,SAAS;QACTS,QAAQ;QACRR,SAAS;QACTE,MAAM;QACNQ,UAAU;QACVD;MACD,CAAC;IACF,CAAC,CAAC;EACH;EAEA,SAASoE,SAASA,CAAA,EAAS;IAC1B,IAAI7D,IAAI,CAACR,QAAQ,EAAE;MAClBoE,SAAS,CAAC,CAAC;MACXA,SAAS,CAAC,CAAC;IACZ,CAAC,MACI;MACJA,SAAS,CAAC,CAAC;IACZ;EACD;EAEA,SAASE,WAAWA,CAAA,EAAS;IAC5B7D,OAAO,CAAE6C,QAAQ,IAAK;MACrB,IAAI;QACHxD,OAAO;QACPC,OAAO;QACPN,MAAM;QACNF,SAAS;QACTS,QAAQ;QACRN;MACD,CAAC,GAAG4D,QAAQ;MAEZ,IAAI,CAACtD,QAAQ,EAAE;QACdP,MAAM,IAAI,CAAC;MACZ;MACCC,MAAM,GAAGb,MAAM,CAACyD,KAAK;MACrBtC,QAAQ,GAAG,IAAI;MACf2B,QAAQ,CAAC,CAAC;MACVY,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC;MACtBzC,OAAO,GAAGP,SAAS;MACnBQ,OAAO,GAAG,CAAC;MAIZ,OAAO;QACN,GAAGuD,QAAQ;QACXxD,OAAO;QACPC,OAAO;QACPN,MAAM;QACNF,SAAS;QACTS,QAAQ;QACRN;MACD,CAAC;IACF,CAAC,CAAC;EACH;EAEA,SAAS6E,gBAAgBA,CAAA,EAAS;IACjC9D,OAAO,CAAE6C,QAAQ,IAAK;MACrB,IAAI;QACH7D,MAAM;QACNF,SAAS;QACTa,UAAU;QACVZ,SAAS;QACTI;MACD,CAAC,GAAG0D,QAAQ;MAEZ,IAAIlD,UAAU,IAAI,CAAC,IAAIA,UAAU,GAAG,IAAI,EAAE;QACzCK,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEZ,OAAO,EAAEhB,OAAO,CAAC4F;QAAQ,CAAC,CAAC;MAC/C,CAAC,MACI;QACJjF,SAAS,GAAG,EAAE;QACdC,SAAS,GAAG,CAAC;QACb,IAAIY,UAAU,GAAC,EAAE,KAAK,CAAC,EAAE;UACxBX,MAAM,GAAGgF,IAAI,CAACC,KAAK,CAACtE,UAAU,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAa;QAAA,KACT;UACJX,MAAM,GAAGgF,IAAI,CAACC,KAAK,CAACtE,UAAU,GAAG,EAAE,CAAC;QACrC;MACD;MACA,OAAO;QACN,GAAGkD,QAAQ;QACX7D,MAAM;QACND,SAAS;QACTD,SAAS;QACTK,OAAO;QACPQ;MACD,CAAC;IACF,CAAC,CAAC;EACH;EAEA,SAASuE,cAAcA,CAAA,EAAS;IAC/BlE,OAAO,CAAE6C,QAAQ,IAAK;MACrB,IAAI;QACH7D,MAAM;QACNG,OAAO;QACPL,SAAS;QACTC,SAAS;QACTa,QAAQ;QACRD;MACD,CAAC,GAAGkD,QAAQ;MAEZlD,UAAU,GAAGC,QAAQ,GAAG,EAAE;MAC1B,IAAID,UAAU,IAAI,CAAC,IAAIA,UAAU,GAAG,IAAI,EAAE;QACzCK,OAAO,CAAC;UAAE,GAAGD,IAAI;UAAEZ,OAAO,EAAEhB,OAAO,CAACgG;QAAM,CAAC,CAAC;MAC7C,CAAC,MACI;QACJrF,SAAS,GAAG,EAAE;QACdC,SAAS,GAAG,CAAC;QACb,IAAIY,UAAU,GAAC,EAAE,KAAK,CAAC,EAAE;UACxBX,MAAM,GAAGgF,IAAI,CAACC,KAAK,CAACtE,UAAU,GAAG,EAAE,CAAC,GAAG,CAAC;QACzC,CAAC,MACI;UACJX,MAAM,GAAGgF,IAAI,CAACC,KAAK,CAACtE,UAAU,GAAG,EAAE,CAAC;QACrC;MACD;MACA,OAAO;QACN,GAAGkD,QAAQ;QACX7D,MAAM;QACNG,OAAO;QACPL,SAAS;QACTC,SAAS;QACTY,UAAU;QACVC;MACD,CAAC;IACF,CAAC,CAAC;EACH;EAEA,eAAewE,iBAAiBA,CAACpD,CAAsC,EAAiB;IACvFA,CAAC,CAACiB,cAAc,CAAC,CAAC;;IAElB;AACF;AACA;AACA;;IAEE;IACA,IAAI,CAAChC,QAAQ,CAACzB,KAAK,IAAI,CAACyB,QAAQ,CAACxB,SAAS,IAAI,CAACwB,QAAQ,CAACtB,OAAO,EAAE;MAChEwB,UAAU,CAAC,mDAAmD,CAAC;MAC/D;IACD;IAEA,IAAIF,QAAQ,CAACxB,SAAS,GAAGwB,QAAQ,CAACtB,OAAO,EAAE;MAC1CwB,UAAU,CAAC,kEAAkE,CAAC;MAC9E;IACD;IAEA,MAAMM,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAG/C,UAAU,SAAS,EAAE;MAC/CyE,MAAM,EAAE,MAAM;MACdI,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CH,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACpB/D,KAAK,EAAEyB,QAAQ,CAACzB,KAAK;QACrBC,SAAS,EAAEwB,QAAQ,CAACxB,SAAS,CAAC4F,WAAW,CAAC,CAAC;QAC3C1F,OAAO,EAAEsB,QAAQ,CAACtB,OAAO,CAAC0F,WAAW,CAAC,CAAC;QACvCC,SAAS,EAAEjG,SAAS,CAACkG,IAAI;QACzB3F,QAAQ,EAAEqB,QAAQ,CAACrB;MACpB,CAAC;IACF,CAAC,CAAC;IAEFgC,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAACzB,KAAK,EAAEyB,QAAQ,CAACxB,SAAS,EAAEwB,QAAQ,CAACtB,OAAO,EAAEsB,QAAQ,CAACrB,QAAQ,CAAC;IAEpF,IAAI,CAAC6B,GAAG,CAAC+D,EAAE,EAAE;MACZ,MAAMC,SAAS,GAAG,MAAMhE,GAAG,CAACE,IAAI,CAAC,CAAC;MAClCC,OAAO,CAAC8D,KAAK,CAAC,iBAAiB,EAAED,SAAS,CAAC;MAC3CtE,UAAU,CAAC,2CAA2C,GAAGsE,SAAS,CAACtF,OAAO,CAAC;MAC3E;IACD;IAEA,MAAMY,IAAkB,GAAI,MAAMU,GAAG,CAACE,IAAI,CAAC,CAAkB;IAE7DR,UAAU,CAACJ,IAAI,CAACZ,OAAO,IAAI,iBAAiB,CAAC;IAE7CwF,MAAM,CAAC/F,QAAQ,CAACgG,MAAM,CAAC,CAAC;;IAExB;IACA;EACD;EAEA,SAASC,gBAAgBA,CAAA,EAAS;IACjC,IAAI5E,QAAQ,CAAC1B,QAAQ,EAAE;MACtB;MACA2B,WAAW,CAAC;QAAE,GAAGD,QAAQ;QAAEzB,KAAK,EAAE,kBAAkB;QAAED,QAAQ,EAAE;MAAM,CAAC,CAAC;IACzE,CAAC,MAAM;MACN;MACA2B,WAAW,CAAC;QAAE,GAAGD,QAAQ;QAAEzB,KAAK,EAAE,EAAE;QAAED,QAAQ,EAAE;MAAK,CAAC,CAAC;IACxD;EACD;EAGA,oBACCP,OAAA,CAAAE,SAAA;IAAA4G,QAAA,GACE3F,OAAO,iBAAInB,OAAA;MAAA8G,QAAA,EAAM3F;IAAO;MAAA4F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAEhClH,OAAA;MAAOmH,EAAE,EAAC,MAAM;MAACC,GAAG,EAAC;IAAkB;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEhDlH,OAAA;MAAKqH,SAAS,EAAC,oBAAoB;MAAAP,QAAA,gBAElC9G,OAAA;QAAA8G,QAAA,eACC9G,OAAA;UAAImH,EAAE,EAAC,OAAO;UAAC9B,KAAK,EAAE;YAAEiC,KAAK,EAAE,OAAO;YAAEC,UAAU,EAAE;UAAO,CAAE;UAAAT,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1E,CAAC,eAETlH,OAAA;QAAKqH,SAAS,EAAC,SAAS;QAAAP,QAAA,gBACvB9G,OAAA;UAAKqF,KAAK,EAAE;YAAEkC,UAAU,EAAE;UAAO,CAAE;UAAAT,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EAC1D9E,UAAU,CAACoF,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,QAAQ,EAAEC,KAAK,kBACzC3H,OAAA;UACCqH,SAAS,EAAC,oBAAoB;UAE9BO,OAAO,EAAEA,CAAA,KACR5F,OAAO,CAAC;YACP,GAAGD,IAAI;YACPjB,SAAS,EAAE4G,QAAQ,CAAC5G,SAAS;YAC7BC,SAAS,EAAE2G,QAAQ,CAAC3G,SAAS;YAC7BC,MAAM,EAAE0G,QAAQ,CAAC1G;UAClB,CAAC,CACD;UAAA8F,QAAA,GAEAY,QAAQ,CAAC5G,SAAS,EAAC,SAAO,EAAC4G,QAAQ,CAAC3G,SAAS,EAAC,SAAO,EAAC2G,QAAQ,CAAC1G,MAAM,EAAC,QACvE,eAAAhB,OAAA;YAAA+G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA,GAXDS,KAAK;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAYH,CACR,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENlH,OAAA;QAAK6H,GAAG,EAAEvF,WAAY;QAAC+E,SAAS,EAAC,UAAU;QAAAP,QAAA,gBAC1C9G,OAAA;UAAKoH,GAAG,EAAC,oBAAoB;UAACU,GAAG,EAAC;QAAY;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjDlH,OAAA;UAAKmH,EAAE,EAAC,OAAO;UAACE,SAAS,EAAC,OAAO;UAAAP,QAAA,EAC/B/E,IAAI,CAACP,WAAW,GAAG,GAAGgE,GAAG,CAACzD,IAAI,CAACV,OAAO,CAAC,IAAImE,GAAG,CAACzD,IAAI,CAACT,OAAO,CAAC,EAAE,GAAG;QAAE;UAAAyF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAENlH,OAAA;QAAA8G,QAAA,gBACC9G,OAAA;UACCqF,KAAK,EAAE;YACN0C,MAAM,EAAE,gBAAgB;YACxBC,KAAK,EAAE,OAAO;YACdV,KAAK,EAAE,OAAO;YACdW,SAAS,EAAE;UACZ,CAAE;UAAAnB,QAAA,EACD/E,IAAI,CAACd;QAAM;UAAA8F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eAELlH,OAAA;UAAKqF,KAAK,EAAE;YAAC6C,OAAO,EAAE,MAAM;YAAEC,cAAc,EAAE;UAAQ,CAAE;UAAArB,QAAA,gBACvD9G,OAAA;YACCmH,EAAE,EAAC,cAAc,CAAE;YAAA;YACnBiB,IAAI,EAAC,QAAQ;YACbf,SAAS,EAAC,iBAAiB;YAC3BO,OAAO,EAAE5D,wBAAyB;YAClCqE,QAAQ,EAAEtG,IAAI,CAACP,WAAY;YAAAsF,QAAA,EAAC;UAE7B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAETlH,OAAA;YACCmH,EAAE,EAAC,aAAa,CAAE;YAAA;YAClBiB,IAAI,EAAC,QAAQ;YACbf,SAAS,EAAC,gBAAgB;YAC1BO,OAAO,EAAEjD,WAAY;YACrB0D,QAAQ,EAAE,CAACtG,IAAI,CAACP,WAAY;YAAAsF,QAAA,EAAC;UAE9B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAELlH,OAAA;UAAA+G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAENlH,OAAA;UAAA8G,QAAA,gBACC9G,OAAA;YACCmH,EAAE,EAAC,aAAa,CAAE;YAAA;YAClBiB,IAAI,EAAC,QAAQ;YACbf,SAAS,EAAC,iBAAiB;YAC3BO,OAAO,EAAEjC,SAAU;YACnB0C,QAAQ,EAAE,CAACtG,IAAI,CAACP,WAAY;YAAAsF,QAAA,EAAC;UAE9B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAETlH,OAAA;YACCmH,EAAE,EAAC,aAAa,CAAE;YAAA;YAClBiB,IAAI,EAAC,QAAQ;YACbf,SAAS,EAAC,iBAAiB;YAC3BO,OAAO,EAAEhC,SAAU;YACnByC,QAAQ,EAAE,CAACtG,IAAI,CAACP,WAAY;YAAAsF,QAAA,EAAC;UAE9B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAETlH,OAAA;YACCmH,EAAE,EAAC,aAAa,CAAE;YAAA;YAClBiB,IAAI,EAAC,QAAQ;YACbf,SAAS,EAAC,iBAAiB;YAC3BO,OAAO,EAAE/B,WAAY;YACrBwC,QAAQ,EAAE,CAACtG,IAAI,CAACP,WAAY;YAAAsF,QAAA,EAAC;UAE9B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAENlH,OAAA;UAAGqH,SAAS,EAAC,WAAW;UAAAP,QAAA,EAAE/E,IAAI,CAACZ;QAAO;UAAA4F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC,CAAC,eAENlH,OAAA;QAAKqH,SAAS,EAAC,oBAAoB;QAAAP,QAAA,gBAClC9G,OAAA;UAAOsI,OAAO,EAAC,YAAY;UAAAxB,QAAA,EAAC;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACzDlH,OAAA;UACCuI,IAAI,EAAC,YAAY;UACjBH,IAAI,EAAC,QAAQ;UACbI,WAAW,EAAC,gBAAgB;UAC5BnB,SAAS,EAAC,gBAAgB;UAC1BF,EAAE,EAAC,YAAY;UACfpE,KAAK,EAAEhB,IAAI,CAACjB,SAAU;UACtB2H,QAAQ,EAAGzF,CAAgC,IAC1ChB,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEjB,SAAS,EAAE4H,QAAQ,CAAC1F,CAAC,CAAC2F,MAAM,CAAC5F,KAAK;UAAE,CAAC,CACxD;UACDsF,QAAQ,EAAEtG,IAAI,CAACP;QAAY;UAAAuF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENlH,OAAA;QAAKqH,SAAS,EAAC,oBAAoB;QAAAP,QAAA,gBAClC9G,OAAA;UAAOsI,OAAO,EAAC,YAAY;UAAAxB,QAAA,EAAC;QAAuB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC3DlH,OAAA;UACCuI,IAAI,EAAC,YAAY;UACjBH,IAAI,EAAC,QAAQ;UACbI,WAAW,EAAC,gBAAgB;UAC5BrB,EAAE,EAAC,YAAY;UACfpE,KAAK,EAAEhB,IAAI,CAAChB,SAAU;UACtB0H,QAAQ,EAAGzF,CAAgC,IAC1ChB,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEhB,SAAS,EAAE2H,QAAQ,CAAC1F,CAAC,CAAC2F,MAAM,CAAC5F,KAAK;UAAE,CAAC,CACxD;UACDsF,QAAQ,EAAEtG,IAAI,CAACP;QAAY;UAAAuF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENlH,OAAA;QAAKqH,SAAS,EAAC,sBAAsB;QAAAP,QAAA,gBACpC9G,OAAA;UAAOsI,OAAO,EAAC,aAAa;UAAAxB,QAAA,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC7DlH,OAAA;UACCuI,IAAI,EAAC,aAAa;UAClBH,IAAI,EAAC,QAAQ;UACbI,WAAW,EAAC,wBAAwB;UACpCrB,EAAE,EAAC,aAAa;UAChBpE,KAAK,EAAEhB,IAAI,CAACf,MAAO;UACnByH,QAAQ,EAAGzF,CAAgC,IAC1ChB,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEf,MAAM,EAAE0H,QAAQ,CAAC1F,CAAC,CAAC2F,MAAM,CAAC5F,KAAK;UAAE,CAAC,CACrD;UACDsF,QAAQ,EAAEtG,IAAI,CAACP;QAAY;UAAAuF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENlH,OAAA;QAAKqH,SAAS,EAAC,qBAAqB;QAAAP,QAAA,gBACnC9G,OAAA;UAAOsI,OAAO,EAAC,YAAY;UAAAxB,QAAA,EAAC;QAAwB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC5DlH,OAAA;UACCuI,IAAI,EAAC,YAAY;UACjBH,IAAI,EAAC,QAAQ;UACbI,WAAW,EAAC,yBAAyB;UACrCrB,EAAE,EAAC,YAAY;UACfpE,KAAK,EAAEhB,IAAI,CAACJ,UAAW;UACvB8G,QAAQ,EAAGzF,CAAgC,IAC1ChB,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEJ,UAAU,EAAE+G,QAAQ,CAAC1F,CAAC,CAAC2F,MAAM,CAAC5F,KAAK;UAAE,CAAC,CACzD;UACDsF,QAAQ,EAAEtG,IAAI,CAACP;QAAY;UAAAuF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC,eACFlH,OAAA;UACEmH,EAAE,EAAC,eAAe,CAAE;UAAA;UACpBiB,IAAI,EAAC,QAAQ;UACbf,SAAS,EAAC,iBAAiB;UAC3BO,OAAO,EAAE9B,gBAAiB;UAC1BuC,QAAQ,EAAEtG,IAAI,CAACP,WAAY;UAAAsF,QAAA,EAAC;QAE9B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAENlH,OAAA;QAAKqH,SAAS,EAAC,mBAAmB;QAAAP,QAAA,gBACjC9G,OAAA;UAAOsI,OAAO,EAAC,UAAU;UAAAxB,QAAA,EAAC;QAAsB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxDlH,OAAA;UACCuI,IAAI,EAAC,UAAU;UACfH,IAAI,EAAC,QAAQ;UACbI,WAAW,EAAC,uBAAuB;UACnCrB,EAAE,EAAC,UAAU;UACbpE,KAAK,EAAEhB,IAAI,CAACH,QAAS;UACrB6G,QAAQ,EAAGzF,CAAgC,IAC1ChB,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEH,QAAQ,EAAE8G,QAAQ,CAAC1F,CAAC,CAAC2F,MAAM,CAAC5F,KAAK;UAAE,CAAC,CACvD;UACDsF,QAAQ,EAAEtG,IAAI,CAACP;QAAY;UAAAuF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC,eACFlH,OAAA;UACEmH,EAAE,EAAC,aAAa,CAAE;UAAA;UAClBiB,IAAI,EAAC,QAAQ;UACbf,SAAS,EAAC,iBAAiB;UAC3BO,OAAO,EAAE1B,cAAe;UACxBmC,QAAQ,EAAEtG,IAAI,CAACP,WAAY;UAAAsF,QAAA,EAAC;QAE9B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAENlH,OAAA;QAAKqH,SAAS,EAAC,8BAA8B;QAAAP,QAAA,eAC5C9G,OAAA;UAAA8G,QAAA,gBAEA9G,OAAA;YAAOsI,OAAO,EAAC,iBAAiB;YAAAxB,QAAA,GAAC,8BAEhC,eAAA9G,OAAA;cACCoI,IAAI,EAAC,UAAU;cACfG,IAAI,EAAC,iBAAiB;cACtBX,OAAO,EAAEf;YAAiB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACgB,CAAC,EAElBjF,QAAQ,CAAC1B,QAAQ,iBACjBP,OAAA;YAAOsI,OAAO,EAAC,OAAO;YAAAxB,QAAA,GAAC,OAEtB,eAAA9G,OAAA;cACCqH,SAAS,EAAC,YAAY;cACtBe,IAAI,EAAC,MAAM;cACXG,IAAI,EAAC,OAAO;cACZxF,KAAK,EAAEd,QAAQ,CAACzB,KAAM;cACtBiI,QAAQ,EAAGzF,CAAgC,IAC1Cd,WAAW,CAAC;gBAAE,GAAGD,QAAQ;gBAAEzB,KAAK,EAAEwC,CAAC,CAAC2F,MAAM,CAAC5F;cAAM,CAAC;YAAE;cAAAgE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAErD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CACP,eAEDlH,OAAA;YAAOsI,OAAO,EAAC,WAAW;YAAAxB,QAAA,GAAC,aAE1B,eAAA9G,OAAA;cAAA8G,QAAA,eACC9G,OAAA,CAACF,UAAU;gBACVuH,SAAS,EAAC,YAAY;gBACtBkB,IAAI,EAAC,WAAW;gBAChBK,QAAQ,EAAE3G,QAAQ,CAACxB,SAAU;gBAC7BgI,QAAQ,EAAGI,IAAiB,IAAW;kBACtC,IAAIA,IAAI,EAAE;oBACT;oBACA,MAAMC,OAAO,GAAG,IAAIpI,IAAI,CAACuB,QAAQ,CAACxB,SAAS,CAAC;oBAC5CqI,OAAO,CAACC,WAAW,CAACF,IAAI,CAACG,WAAW,CAAC,CAAC,EAAEH,IAAI,CAACI,QAAQ,CAAC,CAAC,EAAEJ,IAAI,CAACK,OAAO,CAAC,CAAC,CAAC;oBACxEhH,WAAW,CAAC;sBAAE,GAAGD,QAAQ;sBAAExB,SAAS,EAAEqI;oBAAQ,CAAC,CAAC;kBACjD;gBACD;cAAE;gBAAA/B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAENlH,OAAA;cAAA8G,QAAA,eACC9G,OAAA;gBACCqH,SAAS,EAAC,YAAY;gBACtBe,IAAI,EAAC,MAAM;gBACXrF,KAAK,EAAE,GAAGd,QAAQ,CAACxB,SAAS,CAAC0I,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIpH,QAAQ,CAACxB,SAAS,CAAC6I,UAAU,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAG;gBACrIZ,QAAQ,EAAGzF,CAAsC,IAAW;kBAC3D,MAAM,CAACuG,KAAK,EAAElI,OAAO,CAAC,GAAG2B,CAAC,CAAC2F,MAAM,CAAC5F,KAAK,CAACyG,KAAK,CAAC,GAAG,CAAC;kBAClD,MAAMV,OAAO,GAAG,IAAIpI,IAAI,CAACuB,QAAQ,CAACxB,SAAS,CAAC,CAAC,CAAC;kBAC9CqI,OAAO,CAACW,QAAQ,CAACC,MAAM,CAACH,KAAK,CAAC,EAAEG,MAAM,CAACrI,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;kBACxDa,WAAW,CAAC;oBAAE,GAAGD,QAAQ;oBAAExB,SAAS,EAAEqI;kBAAQ,CAAC,CAAC,CAAC;gBAClD;cAAE;gBAAA/B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eAERlH,OAAA;YAAOsI,OAAO,EAAC,SAAS;YAAAxB,QAAA,GAAC,WAExB,eAAA9G,OAAA;cAAA8G,QAAA,eACC9G,OAAA,CAACF,UAAU;gBACVuH,SAAS,EAAC,YAAY;gBACtBkB,IAAI,EAAC,SAAS;gBACdK,QAAQ,EAAE3G,QAAQ,CAACtB,OAAQ;gBAC3B8H,QAAQ,EAAGI,IAAiB,IAAW;kBACtC,IAAIA,IAAI,EAAE;oBACT;oBACA,MAAMC,OAAO,GAAG,IAAIpI,IAAI,CAACuB,QAAQ,CAACtB,OAAO,CAAC;oBAC1CmI,OAAO,CAACC,WAAW,CAACF,IAAI,CAACG,WAAW,CAAC,CAAC,EAAEH,IAAI,CAACI,QAAQ,CAAC,CAAC,EAAEJ,IAAI,CAACK,OAAO,CAAC,CAAC,CAAC;oBACxEhH,WAAW,CAAC;sBAAE,GAAGD,QAAQ;sBAAEtB,OAAO,EAAEmI;oBAAQ,CAAC,CAAC;kBAC/C;gBACD;cAAE;gBAAA/B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAENlH,OAAA;cAAA8G,QAAA,eACC9G,OAAA;gBACCqH,SAAS,EAAC,YAAY;gBACtBe,IAAI,EAAC,MAAM;gBACXrF,KAAK,EAAE,GAAGd,QAAQ,CAACtB,OAAO,CAACwI,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIpH,QAAQ,CAACtB,OAAO,CAAC2I,UAAU,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAG;gBACjIZ,QAAQ,EAAGzF,CAAsC,IAAW;kBAC3D,MAAM,CAACuG,KAAK,EAAElI,OAAO,CAAC,GAAG2B,CAAC,CAAC2F,MAAM,CAAC5F,KAAK,CAACyG,KAAK,CAAC,GAAG,CAAC;kBAClD,MAAMV,OAAO,GAAG,IAAIpI,IAAI,CAACuB,QAAQ,CAACtB,OAAO,CAAC;kBAC1CmI,OAAO,CAACW,QAAQ,CAACC,MAAM,CAACH,KAAK,CAAC,EAAEG,MAAM,CAACrI,OAAO,CAAC,CAAC,CAAC,CAAC;kBAClDa,WAAW,CAAC;oBAAE,GAAGD,QAAQ;oBAAEtB,OAAO,EAAEmI;kBAAQ,CAAC,CAAC,CAAC,CAAC;gBACjD;cAAE;gBAAA/B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eAERlH,OAAA;YACCqH,SAAS,EAAC,iBAAiB;YAC3BhC,KAAK,EAAE;cACNsE,eAAe,EAAE,QAAQ;cACzBrC,KAAK,EAAE,OAAO;cACdsC,MAAM,EAAE;YACT,CAAE;YACFhC,OAAO,EAAExB,iBAAkB;YAAAU,QAAA,EAAC;UAE7B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEF,CAAC;EAAA,eACL,CAAC;AAEL;AAACpF,EAAA,CA5xBuBD,SAAS;EAAA,QAQpBjC,WAAW;AAAA;AAAAiK,EAAA,GARAhI,SAAS;AAAA,IAAAgI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}