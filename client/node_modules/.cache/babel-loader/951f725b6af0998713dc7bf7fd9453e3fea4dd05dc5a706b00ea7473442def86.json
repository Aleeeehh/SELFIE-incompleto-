{"ast":null,"code":"import React from\"react\";import{useState,useRef}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import{SERVER_API}from\"./params/params\";import{useNavigate,useLocation}from\"react-router-dom\";import{ResponseStatus}from\"./types/ResponseStatus\";import DatePicker from\"react-datepicker\";//to create pomodoro events\n//import Time from \"react-datepicker/dist/time\";\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";var MESSAGE=/*#__PURE__*/function(MESSAGE){MESSAGE[\"PRESS_START\"]=\"FILL THE SPACES AND PRESS START TO BEGIN!\";MESSAGE[\"ERROR\"]=\"INSERT AN INTEGER NUMBER FOR STUDY TIME, PAUSE TIME AND STUDY CYCLES! (1-99)\";MESSAGE[\"VOID\"]=\"\";MESSAGE[\"MINUTES\"]=\"INSERT THE AMOUNT OF MINUTES OF STUDY (1-3465)\";MESSAGE[\"HOURS\"]=\"INSERT THE AMOUNT OF HOURS OF STUDY (1-57)\";return MESSAGE;}(MESSAGE||{});var STATUS=/*#__PURE__*/function(STATUS){STATUS[\"BEGIN\"]=\"BEGIN SESSION\";STATUS[\"STUDY\"]=\"STUDY\";STATUS[\"PAUSE\"]=\"PAUSE\";STATUS[\"END\"]=\"END OF SESSION\";return STATUS;}(STATUS||{});var Frequency=/*#__PURE__*/function(Frequency){Frequency[\"ONCE\"]=\"once\";Frequency[\"DAILY\"]=\"day\";Frequency[\"WEEKLY\"]=\"week\";return Frequency;}(Frequency||{});const initialPomEvent={addTitle:true,title:\"Pomodoro Session\",startTime:new Date(),endTime:new Date(),location:\"\"};const initialState={studyTime:30,pauseTime:5,cycles:5,status:STATUS.BEGIN,message:MESSAGE.PRESS_START,minutes:0,seconds:0,studying:true,activeTimer:false,intervalId:undefined,totMinutes:0,totHours:0};export default function Pomodoros(){const[data,setData]=useState(initialState);const[pomEvent,setPomEvent]=useState(initialPomEvent);const[message,setMessage]=useState(\"\");const[tomatoList,setTomatoList]=React.useState([]);const pomodoroRef=useRef(null);const nav=useNavigate();//setup per ricevere la durata dell'evento pomodoro cliccando dall'evento sul calendario\nconst location=useLocation();const getQueryParams=()=>{const params=new URLSearchParams(location.search);// Ottieni i parametri della query\nconst duration=params.get('duration');// Leggi il parametro \"duration\"\nreturn duration?parseInt(duration):0;// Restituisci la durata come numero, oppure 0 se non è definita\n};const duration=getQueryParams();// Ottieni la durata dal query param\nReact.useEffect(()=>{(async()=>{try{const res=await fetch(\"\".concat(SERVER_API,\"/pomodoro\"));if(res.status!==200){nav(\"/login\");}// TODO: set session value as response\nconst data=await res.json();console.log(data);if(data.status===ResponseStatus.GOOD){setTomatoList(data.value);}else{setMessage(\"Errore nel ritrovamento dei pomodoro\");}}catch(e){setMessage(\"Impossibile raggiungere il server\");}//gestione della durata derivata dall'evento\nconsole.log(\"La durata dell'evento pomodoro è: \"+duration);if(duration!==0){setData(prevData=>{let{cycles,studyTime,totMinutes,pauseTime}=prevData;totMinutes=duration;studyTime=30;pauseTime=5;if(totMinutes%35!==0){cycles=Math.floor(totMinutes/35)+1;// +1 perchè ho i tasti per passare avanti\n}// quindi se il tempo totale è troppo non è un problema\nelse{cycles=Math.floor(totMinutes/35);}return{...prevData,cycles,pauseTime,studyTime,totMinutes};});}})();},[]);function inputCheck(){if(data.studyTime<=0||data.studyTime>99||data.pauseTime<=0||data.pauseTime>99||data.cycles<=0||data.cycles>99){return false;}else{return true;}}function playRing(){const ring=document.getElementById(\"ring\");if(ring){ring.play();}}function startProcess(){if(inputCheck()){playRing();clearInterval(data.intervalId);const interval=setInterval(()=>{updateTimer();},1000);//mettere 1000\nsetData({...data,message:MESSAGE.VOID,studying:true,activeTimer:true,intervalId:interval,status:STATUS.STUDY,minutes:data.studyTime,seconds:0});startAnimation(true);}else{setData({...data,message:MESSAGE.ERROR});}}async function handleSavePomodoroConfig(e){e.preventDefault();try{const pomodoroConfig={studyTime:data.studyTime,pauseTime:data.pauseTime,cycles:data.cycles,owner:\"\"};console.log(\"Dati inviati al server:\",pomodoroConfig);const res=await fetch(\"\".concat(SERVER_API,\"/pomodoro\"),{method:\"POST\",body:JSON.stringify(pomodoroConfig),headers:{\"Content-Type\":\"application/json\"}});const resBody=await res.json();if(resBody.status===ResponseStatus.GOOD){alert(\"Configurazione Pomodoro salvata correttamente!\");startProcess();//await updateTomatoList();\n}else{setMessage(\"Errore nel salvataggio della configurazione\");}}catch(e){setMessage(\"Impossibile raggiungere il server\");}}//Funzione per aggiornare la lista dei pomodori in tempo reale (non funziona al momento)\n/*const updateTomatoList = async (): Promise<void> => {\n\t\ttry {\n\t\t\tconst response = await fetch(`${SERVER_API}/pomodoro`);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error('Failed to fetch pomodori');\n\t\t\t}\n\t\t\tconst fetchedTomatoes = await response.json();\n\t\t\tsetTomatoList(fetchedTomatoes);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};*/function stopProcess(){playRing();stopTimer();}function stopTimer(){clearInterval(data.intervalId);setData(prevData=>{return{...prevData,intervalId:undefined,activeTimer:false,status:STATUS.END};});resetPomodoroColor();}function updateTimer(){setData(prevData=>{let{minutes,seconds,cycles,studyTime,studying,pauseTime,status,intervalId,activeTimer}=prevData;seconds-=1;if(seconds<0){seconds=59;minutes-=1;}if(minutes<0){if(cycles===0){clearInterval(prevData.intervalId);intervalId=undefined;activeTimer=false;status=STATUS.END;resetPomodoroColor();minutes=studyTime;seconds=0;}else{if(studying){// End of study session, enter pause\nconsole.log(\"Start pause session\");status=STATUS.PAUSE;studying=false;playRing();startAnimation(false);// Passa false per l'animazione di pausa\nminutes=pauseTime;seconds=0;cycles-=1;}else{// End of pause session, start next study session\nconsole.log(\"Start study session\");status=STATUS.STUDY;studying=true;playRing();startAnimation(true);// Passa true per l'animazione di studio\nminutes=studyTime;seconds=0;}}}return{...prevData,minutes,seconds,cycles,studyTime,studying,pauseTime,status,intervalId,activeTimer};});}function startAnimation(isStudying){console.log(isStudying);if(pomodoroRef.current){pomodoroRef.current.classList.remove(\"animate-pomodoro\");pomodoroRef.current.classList.remove(\"reverse-animate-pomodoro\");if(isStudying){pomodoroRef.current.style.animationDuration=\"\".concat(data.studyTime*60,\"s\");pomodoroRef.current.classList.add(\"animate-pomodoro\");}else{pomodoroRef.current.style.animationDuration=\"\".concat(data.pauseTime*60,\"s\");pomodoroRef.current.classList.add(\"reverse-animate-pomodoro\");}}}function pad(value){return value<10?\"0\"+value:String(value);}function resetPomodoroColor(){if(pomodoroRef.current){pomodoroRef.current.style.animationDuration=\"0.1s\";pomodoroRef.current.classList.add(\"animate-pomodoro\");setTimeout(()=>{if(pomodoroRef.current){pomodoroRef.current.classList.remove(\"animate-pomodoro\");}},100);}}function nextPhase(){setData(prevData=>{let{minutes,seconds,cycles,studyTime,studying,pauseTime,status,intervalId,activeTimer}=prevData;if(cycles===0){clearInterval(prevData.intervalId);intervalId=undefined;activeTimer=false;status=STATUS.END;resetPomodoroColor();minutes=studyTime;seconds=0;}else{if(studying){// End of study session, enter pause\nconsole.log(\"Start pause session\");status=STATUS.PAUSE;studying=false;playRing();startAnimation(false);// Passa false per l'animazione di pausa\nminutes=pauseTime;seconds=0;cycles-=1;}else{// End of pause session, start next study session\nconsole.log(\"Start study session\");status=STATUS.STUDY;studying=true;playRing();startAnimation(true);// Passa true per l'animazione di studio\nminutes=studyTime;seconds=0;}}return{...prevData,minutes,seconds,cycles,studyTime,studying,pauseTime,status,intervalId,activeTimer};});}function nextCycle(){if(data.studying){nextPhase();nextPhase();}else{nextPhase();}}function repeatCycle(){setData(prevData=>{let{minutes,seconds,cycles,studyTime,studying,status}=prevData;if(!studying){cycles+=1;}status=STATUS.STUDY;studying=true;playRing();startAnimation(true);// Passa true per l'animazione di studio\nminutes=studyTime;seconds=0;return{...prevData,minutes,seconds,cycles,studyTime,studying,status};});}function proposalsMinutes(){setData(prevData=>{let{cycles,studyTime,totMinutes,pauseTime,message}=prevData;if(totMinutes<=0||totMinutes>3465){setData({...data,message:MESSAGE.MINUTES});}else{studyTime=30;pauseTime=5;if(totMinutes%35!==0){cycles=Math.floor(totMinutes/35)+1;// +1 perchè ho i tasti per passare avanti\n}// quindi se il tempo totale è troppo non è un problema\nelse{cycles=Math.floor(totMinutes/35);}}return{...prevData,cycles,pauseTime,studyTime,message,totMinutes};});}function proposalsHours(){setData(prevData=>{let{cycles,message,studyTime,pauseTime,totHours,totMinutes}=prevData;totMinutes=totHours*60;if(totMinutes<=0||totMinutes>3465){setData({...data,message:MESSAGE.HOURS});}else{studyTime=30;pauseTime=5;if(totMinutes%35!==0){cycles=Math.floor(totMinutes/35)+1;}else{cycles=Math.floor(totMinutes/35);}}return{...prevData,cycles,message,studyTime,pauseTime,totMinutes,totHours};});}async function handleCreateEvent(e){e.preventDefault();//Validazione dell'input\nif(!pomEvent.title||!pomEvent.startTime||!pomEvent.endTime||!pomEvent.location){setMessage(\"Tutti i campi dell'evento devono essere riempiti!\");return;}if(pomEvent.startTime>pomEvent.endTime){setMessage(\"La data di inizio non può essere collocata dopo la data di fine!\");return;}const currentUser=await getCurrentUser();const res=await fetch(\"\".concat(SERVER_API,\"/events\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({owner:currentUser.value.username,title:pomEvent.title,startTime:pomEvent.startTime.toISOString(),endTime:pomEvent.endTime.toISOString(),frequency:Frequency.ONCE,location:pomEvent.location})});console.log(pomEvent.title,pomEvent.startTime,pomEvent.endTime,pomEvent.location);if(!res.ok){const errorData=await res.json();console.error(\"Error response:\",errorData);setMessage(\"Errore durante la creazione dell'evento: \"+errorData.message);return;}const data=await res.json();setMessage(data.message||\"Undefined error\");window.location.reload();// TODO: send post request to server\n// TODO: handle response\n}async function getCurrentUser(){try{const res=await fetch(\"\".concat(SERVER_API,\"/users\"));if(!res.ok){// Controlla se la risposta non è ok\nsetMessage(\"Utente non autenticato\");return null;// Restituisci null se non autenticato\n}console.log(\"Questa è la risposta alla GET per ottenere lo user\",res);const data=await res.json();console.log(\"Questo è il json della risposta\",data);return data;}catch(e){setMessage(\"Impossibile recuperare l'utente corrente\");return null;}}return/*#__PURE__*/_jsxs(_Fragment,{children:[message&&/*#__PURE__*/_jsx(\"div\",{children:message}),/*#__PURE__*/_jsx(\"audio\",{id:\"ring\",src:\"/images/ring.mp3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pomodoro-container\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{id:\"title\",style:{color:\"black\",fontWeight:\"bold\"},children:\"POMODORO TIMER\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview\",children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:\"bold\"},children:\"POMODORO RECENTI:\"}),tomatoList.slice(-3).map((pomodoro,index)=>/*#__PURE__*/_jsxs(\"button\",{className:\"previous-pomodoros\",onClick:()=>setData({...data,studyTime:pomodoro.studyTime,pauseTime:pomodoro.pauseTime,cycles:pomodoro.cycles}),children:[pomodoro.studyTime,\" min - \",pomodoro.pauseTime,\" min - \",pomodoro.cycles,\" cicli\",/*#__PURE__*/_jsx(\"br\",{})]},index))]}),/*#__PURE__*/_jsxs(\"div\",{ref:pomodoroRef,className:\"pomodoro\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/tomato.png\",alt:\"tomato.png\"}),/*#__PURE__*/_jsx(\"div\",{id:\"timer\",className:\"timer\",children:data.activeTimer?\"\".concat(pad(data.minutes),\":\").concat(pad(data.seconds)):\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:\"0.5em auto 1em\",width:\"300px\",color:\"white\",textAlign:\"center\"},children:data.status}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(\"button\",{id:\"start-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-success border\",onClick:handleSavePomodoroConfig,disabled:data.activeTimer,children:\"START\"}),/*#__PURE__*/_jsx(\"button\",{id:\"stop-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-danger border\",onClick:stopProcess,disabled:!data.activeTimer,children:\"STOP\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{id:\"next-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-warning border\",onClick:nextPhase,disabled:!data.activeTimer,children:\"NEXT PHASE\"}),/*#__PURE__*/_jsx(\"button\",{id:\"next-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-warning border\",onClick:nextCycle,disabled:!data.activeTimer,children:\"NEXT CYCLE\"}),/*#__PURE__*/_jsx(\"button\",{id:\"next-button\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-warning border\",onClick:repeatCycle,disabled:!data.activeTimer,children:\"REPEAT CYCLE\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"paragraph\",children:data.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello studyTime border\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputStudy\",children:\"Study time in minutes\"}),/*#__PURE__*/_jsx(\"input\",{name:\"inputStudy\",type:\"number\",placeholder:\"Enter the time\",className:\"inputStudyTime\",id:\"inputStudy\",value:data.studyTime,onChange:e=>setData({...data,studyTime:parseInt(e.target.value)}),disabled:data.activeTimer})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello breakTime border\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputPause\",children:\" Break time in minutes \"}),/*#__PURE__*/_jsx(\"input\",{name:\"inputPause\",type:\"number\",placeholder:\"Enter the time\",id:\"inputPause\",value:data.pauseTime,onChange:e=>setData({...data,pauseTime:parseInt(e.target.value)}),disabled:data.activeTimer})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello studyCycles border\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputCycles\",children:\" Number of study cycles \"}),/*#__PURE__*/_jsx(\"input\",{name:\"inputCycles\",type:\"number\",placeholder:\"Enter the study cycles\",id:\"inputCycles\",value:data.cycles,onChange:e=>setData({...data,cycles:parseInt(e.target.value)}),disabled:data.activeTimer})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello totMinutes border\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"totMinutes\",children:\" Total minutes of study \"}),/*#__PURE__*/_jsx(\"input\",{name:\"totMinutes\",type:\"number\",placeholder:\"Enter the total minutes\",id:\"totMinutes\",value:data.totMinutes,onChange:e=>setData({...data,totMinutes:parseInt(e.target.value)}),disabled:data.activeTimer}),/*#__PURE__*/_jsx(\"button\",{id:\"minutesButton\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-success\",onClick:proposalsMinutes,disabled:data.activeTimer,children:\"USE MINUTES\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pannello totHours border\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"totHours\",children:\" Total hours of study \"}),/*#__PURE__*/_jsx(\"input\",{name:\"totHours\",type:\"number\",placeholder:\"Enter the total hours\",id:\"totHours\",value:data.totHours,onChange:e=>setData({...data,totHours:parseInt(e.target.value)}),disabled:data.activeTimer}),/*#__PURE__*/_jsx(\"button\",{id:\"hoursButton\"//probabilmente non serve l'id\n,type:\"button\",className:\"btn btn-success\",onClick:proposalsHours,disabled:data.activeTimer,children:\"USE HOURS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-event-container col-2\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Organize your next Pomodoro Session\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"startTime\",children:[\"Data Inizio\",/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DatePicker,{className:\"btn border createEventinput\",name:\"startTime\",selected:pomEvent.startTime,onChange:date=>{if(date){// Aggiorna la data mantenendo l'orario attuale\nconst newDate=new Date(pomEvent.startTime);newDate.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());setPomEvent({...pomEvent,startTime:newDate});}}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn border createEventinput\",type:\"time\",value:\"\".concat(pomEvent.startTime.getHours().toString().padStart(2,'0'),\":\").concat(pomEvent.startTime.getMinutes().toString().padStart(2,'0')),onChange:e=>{const[hours,minutes]=e.target.value.split(':');const newDate=new Date(pomEvent.startTime);// Crea un nuovo oggetto Date basato su startTime\nnewDate.setHours(Number(hours),Number(minutes),0,0);// Imposta l'orario\nsetPomEvent({...pomEvent,startTime:newDate});// Imposta il nuovo oggetto Date\n}})})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"endTime\",children:[\"Data Fine\",/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DatePicker,{className:\"btn border createEventinput\",name:\"endTime\",selected:pomEvent.endTime,onChange:date=>{if(date){// Aggiorna la data mantenendo l'orario attuale\nconst newDate=new Date(pomEvent.endTime);newDate.setFullYear(date.getFullYear(),date.getMonth(),date.getDate());setPomEvent({...pomEvent,endTime:newDate});}}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn border createEventinput\",type:\"time\",value:\"\".concat(pomEvent.endTime.getHours().toString().padStart(2,'0'),\":\").concat(pomEvent.endTime.getMinutes().toString().padStart(2,'0')),onChange:e=>{const[hours,minutes]=e.target.value.split(':');const newDate=new Date(pomEvent.endTime);newDate.setHours(Number(hours),Number(minutes));// Aggiorna l'orario\nsetPomEvent({...pomEvent,endTime:newDate});// Imposta il nuovo oggetto Date\n}})})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"location\",children:[\"Luogo\",/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn border createEventinput\",type:\"text\",name:\"location\",value:pomEvent.location,onChange:e=>setPomEvent({...pomEvent,location:e.target.value})})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",style:{backgroundColor:\"bisque\",color:\"black\",border:\"0\"},onClick:handleCreateEvent,children:\"Create Event\"})]})]})]})]});}","map":{"version":3,"names":["React","useState","useRef","SERVER_API","useNavigate","useLocation","ResponseStatus","DatePicker","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MESSAGE","STATUS","Frequency","initialPomEvent","addTitle","title","startTime","Date","endTime","location","initialState","studyTime","pauseTime","cycles","status","BEGIN","message","PRESS_START","minutes","seconds","studying","activeTimer","intervalId","undefined","totMinutes","totHours","Pomodoros","data","setData","pomEvent","setPomEvent","setMessage","tomatoList","setTomatoList","pomodoroRef","nav","getQueryParams","params","URLSearchParams","search","duration","get","parseInt","useEffect","res","fetch","concat","json","console","log","GOOD","value","e","prevData","Math","floor","inputCheck","playRing","ring","document","getElementById","play","startProcess","clearInterval","interval","setInterval","updateTimer","VOID","STUDY","startAnimation","ERROR","handleSavePomodoroConfig","preventDefault","pomodoroConfig","owner","method","body","JSON","stringify","headers","resBody","alert","stopProcess","stopTimer","END","resetPomodoroColor","PAUSE","isStudying","current","classList","remove","style","animationDuration","add","pad","String","setTimeout","nextPhase","nextCycle","repeatCycle","proposalsMinutes","MINUTES","proposalsHours","HOURS","handleCreateEvent","currentUser","getCurrentUser","username","toISOString","frequency","ONCE","ok","errorData","error","window","reload","children","id","src","className","color","fontWeight","slice","map","pomodoro","index","onClick","ref","alt","margin","width","textAlign","display","justifyContent","type","disabled","htmlFor","name","placeholder","onChange","target","selected","date","newDate","setFullYear","getFullYear","getMonth","getDate","getHours","toString","padStart","getMinutes","hours","split","setHours","Number","backgroundColor","border"],"sources":["/Users/alessioprato/Desktop/SELFIE/client/src/Pomodoro.tsx"],"sourcesContent":["import React from \"react\";\nimport { useState, ChangeEvent, useRef } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { SERVER_API } from \"./params/params\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { ResponseBody } from \"./types/ResponseBody\";\nimport { ResponseStatus } from \"./types/ResponseStatus\";\nimport Pomodoro from \"./types/Pomodoro\";\nimport User from \"./types/User\";\n\n\nimport DatePicker from \"react-datepicker\";\t//to create pomodoro events\n//import Time from \"react-datepicker/dist/time\";\n\n\nenum MESSAGE {\n\tPRESS_START = \"FILL THE SPACES AND PRESS START TO BEGIN!\",\n\tERROR = \"INSERT AN INTEGER NUMBER FOR STUDY TIME, PAUSE TIME AND STUDY CYCLES! (1-99)\",\n\tVOID = \"\",\n\tMINUTES = \"INSERT THE AMOUNT OF MINUTES OF STUDY (1-3465)\",\n\tHOURS = \"INSERT THE AMOUNT OF HOURS OF STUDY (1-57)\"\n}\n\nenum STATUS {\n\tBEGIN = \"BEGIN SESSION\",\n\tSTUDY = \"STUDY\",\n\tPAUSE = \"PAUSE\",\n\tEND = \"END OF SESSION\",\n}\n\nenum Frequency {\n\tONCE = \"once\",\n\tDAILY = \"day\",\n\tWEEKLY = \"week\",\n}\n\ntype PomodoroData = {\n\tstudyTime: number;\n\tpauseTime: number;\n\tcycles: number;\n\tstatus: STATUS;\n\tmessage: MESSAGE;\n\tminutes: number;\n\tseconds: number;\n\tstudying: boolean;\n\tactiveTimer: boolean;\n\tintervalId?: NodeJS.Timeout;\n\ttotMinutes: number;\n\ttotHours: number;\n};\n\ntype PomodoroEvent = {\n\taddTitle: boolean;\n\ttitle: string;\n\tstartTime: Date;\n\tendTime: Date;\n\tlocation: string;\n};\n\nconst initialPomEvent: PomodoroEvent = {\n\taddTitle: true,\n\ttitle: \"Pomodoro Session\",\n\tstartTime: new Date(),\n\tendTime: new Date(),\n\tlocation: \"\",\n};\n\nconst initialState: PomodoroData = {\n\tstudyTime: 30,\n\tpauseTime: 5,\n\tcycles: 5,\n\tstatus: STATUS.BEGIN,\n\tmessage: MESSAGE.PRESS_START,\n\tminutes: 0,\n\tseconds: 0,\n\tstudying: true,\n\tactiveTimer: false,\n\tintervalId: undefined,\n\ttotMinutes: 0,\n\ttotHours: 0,\n};\n\nexport default function Pomodoros(): React.JSX.Element {\n\tconst [data, setData] = useState(initialState);\n\tconst [pomEvent, setPomEvent] = useState(initialPomEvent);\n\tconst [message, setMessage] = useState(\"\");\n\tconst [tomatoList, setTomatoList] = React.useState([] as Pomodoro[]);\n\n\tconst pomodoroRef = useRef<HTMLDivElement | null>(null);\n\n\tconst nav = useNavigate();\n\n\t//setup per ricevere la durata dell'evento pomodoro cliccando dall'evento sul calendario\n\tconst location = useLocation();\n\n\tconst getQueryParams = (): number => {\n\t\tconst params = new URLSearchParams(location.search); // Ottieni i parametri della query\n\t\tconst duration = params.get('duration'); // Leggi il parametro \"duration\"\n\t\treturn duration ? parseInt(duration) : 0; // Restituisci la durata come numero, oppure 0 se non è definita\n\t  };\n\t\n\tconst duration = getQueryParams(); // Ottieni la durata dal query param\n\t\n\n\tReact.useEffect(() => {\n\t\t(async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tconst res = await fetch(`${SERVER_API}/pomodoro`);\n\t\t\t\tif (res.status !== 200) {\n\t\t\t\t\tnav(\"/login\");\n\t\t\t\t}\n\t\t\t\t// TODO: set session value as response\n\t\t\t\tconst data = (await res.json()) as ResponseBody;\n\n\t\t\t\tconsole.log(data);\n\n\t\t\t\tif (data.status === ResponseStatus.GOOD) {\n\t\t\t\t\tsetTomatoList(data.value as Pomodoro[]);\n\t\t\t\t} else {\n\t\t\t\t\tsetMessage(\"Errore nel ritrovamento dei pomodoro\");\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tsetMessage(\"Impossibile raggiungere il server\");\n\t\t\t}\n\n\t\t\t//gestione della durata derivata dall'evento\n\t\t\tconsole.log(\"La durata dell'evento pomodoro è: \" + duration);\n\t\t\tif (duration !== 0){\n\t\t\tsetData((prevData) => {\n\t\t\t\tlet {\n\t\t\t\t\tcycles,\n\t\t\t\t\tstudyTime,\n\t\t\t\t\ttotMinutes,\n\t\t\t\t\tpauseTime,\n\t\t\t\t} = prevData;\n\t\t\t\t\n\t\t\t\ttotMinutes = duration;\n\n\t\t\t\tstudyTime = 30;\n\t\t\t\tpauseTime = 5;\n\n\t\t\t\tif (totMinutes%35 !== 0) {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35) + 1; // +1 perchè ho i tasti per passare avanti\n\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t  // quindi se il tempo totale è troppo non è un problema\n\t\t\t\telse {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...prevData,\n\t\t\t\t\tcycles,\n\t\t\t\t\tpauseTime,\n\t\t\t\t\tstudyTime,\n\t\t\t\t\ttotMinutes,\n\t\t\t\t} as PomodoroData;\n\t\t\t});\n\t\t}})();\n\t}, []);\n\n\tfunction inputCheck(): boolean {\n\t\tif (\n\t\t\tdata.studyTime <= 0 ||\n\t\t\tdata.studyTime > 99 ||\n\t\t\tdata.pauseTime <= 0 ||\n\t\t\tdata.pauseTime > 99 ||\n\t\t\tdata.cycles <= 0 ||\n\t\t\tdata.cycles > 99\n\t\t) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\tfunction playRing(): void {\n\t\tconst ring = document.getElementById(\"ring\") as HTMLAudioElement;\n\t\tif (ring) {\n\t\t\tring.play();\n\t\t}\n\t}\n\n\tfunction startProcess(): void {\n\t\tif (inputCheck()) {\n\t\t\tplayRing();\n\t\t\tclearInterval(data.intervalId);\n\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tupdateTimer();\n\t\t\t}, 1000);\t\t//mettere 1000\n\n\t\t\tsetData({\n\t\t\t\t...data,\n\t\t\t\tmessage: MESSAGE.VOID,\n\t\t\t\tstudying: true,\n\t\t\t\tactiveTimer: true,\n\t\t\t\tintervalId: interval,\n\t\t\t\tstatus: STATUS.STUDY,\n\t\t\t\tminutes: data.studyTime,\n\t\t\t\tseconds: 0,\n\t\t\t});\n\t\t\tstartAnimation(true);\n\t\t\t\n\t\t} else {\n\t\t\tsetData({ ...data, message: MESSAGE.ERROR });\n\t\t}\n\t}\n\n\tasync function handleSavePomodoroConfig(e: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n\t\te.preventDefault();\n\n\t\ttry {\n\t\t\tconst pomodoroConfig = {\n\t\t\t\tstudyTime: data.studyTime,\n\t\t\t\tpauseTime: data.pauseTime,\n\t\t\t\tcycles: data.cycles,\n\t\t\t\towner: \"\" ,\n\t\t\t};\n\t\t\tconsole.log(\"Dati inviati al server:\", pomodoroConfig);\n\n\t\t\tconst res = await fetch(`${SERVER_API}/pomodoro`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(pomodoroConfig),\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t});\n\t\n\t\t\tconst resBody = await res.json();\n\t\n\t\t\tif (resBody.status === ResponseStatus.GOOD) {\n\t\t\t\talert(\"Configurazione Pomodoro salvata correttamente!\");\n\t\t\t\tstartProcess();\n\t\t\t\t//await updateTomatoList();\n\t\t\t} else {\n\t\t\t\tsetMessage(\"Errore nel salvataggio della configurazione\");\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsetMessage(\"Impossibile raggiungere il server\");\n\t\t}\n\t}\n\t\n\t//Funzione per aggiornare la lista dei pomodori in tempo reale (non funziona al momento)\n\n\t/*const updateTomatoList = async (): Promise<void> => {\n\t\ttry {\n\t\t\tconst response = await fetch(`${SERVER_API}/pomodoro`);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error('Failed to fetch pomodori');\n\t\t\t}\n\t\t\tconst fetchedTomatoes = await response.json();\n\t\t\tsetTomatoList(fetchedTomatoes);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t};*/\n\t\n\n\tfunction stopProcess(): void {\n\t\tplayRing();\n\t\tstopTimer();\n\t}\n\n\tfunction stopTimer(): void {\n\t\tclearInterval(data.intervalId);\n\n\t\tsetData((prevData) => {\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tintervalId: undefined,\n\t\t\t\tactiveTimer: false,\n\t\t\t\tstatus: STATUS.END,\n\t\t\t};\n\t\t});\n\n\t\tresetPomodoroColor();\n\t}\n\n\tfunction updateTimer(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} = prevData;\n\n\t\t\tseconds -= 1;\n\t\t\tif (seconds < 0) {\n\t\t\t\tseconds = 59;\n\t\t\t\tminutes -= 1;\n\t\t\t}\n\n\t\t\tif (minutes < 0) {\n\t\t\t\tif (cycles === 0) {\n\t\t\t\t\tclearInterval(prevData.intervalId);\n\n\t\t\t\t\tintervalId = undefined;\n\t\t\t\t\tactiveTimer = false;\n\t\t\t\t\tstatus = STATUS.END;\n\n\t\t\t\t\tresetPomodoroColor();\n\t\t\t\t\tminutes = studyTime;\n\t\t\t\t\tseconds = 0;\n\t\t\t\t} else {\n\t\t\t\t\tif (studying) {\n\t\t\t\t\t\t// End of study session, enter pause\n\t\t\t\t\t\tconsole.log(\"Start pause session\");\n\t\t\t\t\t\tstatus = STATUS.PAUSE;\n\t\t\t\t\t\tstudying = false;\n\t\t\t\t\t\tplayRing();\n\t\t\t\t\t\tstartAnimation(false); // Passa false per l'animazione di pausa\n\t\t\t\t\t\tminutes = pauseTime;\n\t\t\t\t\t\tseconds = 0;\n\t\t\t\t\t\tcycles -= 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// End of pause session, start next study session\n\t\t\t\t\t\tconsole.log(\"Start study session\");\n\t\t\t\t\t\tstatus = STATUS.STUDY;\n\t\t\t\t\t\tstudying = true;\n\t\t\t\t\t\tplayRing();\n\t\t\t\t\t\tstartAnimation(true); // Passa true per l'animazione di studio\n\t\t\t\t\t\tminutes = studyTime;\n\t\t\t\t\t\tseconds = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction startAnimation(isStudying: boolean): void {\n\t\tconsole.log(isStudying);\n\t\tif (pomodoroRef.current) {\n\t\t\tpomodoroRef.current.classList.remove(\"animate-pomodoro\");\n\t\t\tpomodoroRef.current.classList.remove(\"reverse-animate-pomodoro\");\n\t\t\tif (isStudying) {\n\t\t\t\tpomodoroRef.current.style.animationDuration = `${data.studyTime * 60}s`;\n\t\t\t\tpomodoroRef.current.classList.add(\"animate-pomodoro\");\n\t\t\t} else {\n\t\t\t\tpomodoroRef.current.style.animationDuration = `${data.pauseTime * 60}s`;\n\t\t\t\tpomodoroRef.current.classList.add(\"reverse-animate-pomodoro\");\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction pad(value: number): string {\n\t\treturn value < 10 ? \"0\" + value : String(value);\n\t}\n\n\tfunction resetPomodoroColor(): void {\n\t\tif (pomodoroRef.current) {\n\t\t\tpomodoroRef.current.style.animationDuration = `0.1s`;\n\t\t\tpomodoroRef.current.classList.add(\"animate-pomodoro\");\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (pomodoroRef.current) {\n\t\t\t\t\tpomodoroRef.current.classList.remove(\"animate-pomodoro\");\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t}\n\t}\n\n\tfunction nextPhase(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} = prevData;\n\n\t\t\tif (cycles === 0) {\n\t\t\t\tclearInterval(prevData.intervalId);\n\n\t\t\t\tintervalId = undefined;\n\t\t\t\tactiveTimer = false;\n\t\t\t\tstatus = STATUS.END;\n\n\t\t\t\tresetPomodoroColor();\n\t\t\t\tminutes = studyTime;\n\t\t\t\tseconds = 0;\n\t\t\t} else {\n\t\t\t\tif (studying) {\n\t\t\t\t\t// End of study session, enter pause\n\t\t\t\t\tconsole.log(\"Start pause session\");\n\t\t\t\t\tstatus = STATUS.PAUSE;\n\t\t\t\t\tstudying = false;\n\t\t\t\t\tplayRing();\n\t\t\t\t\tstartAnimation(false); // Passa false per l'animazione di pausa\n\t\t\t\t\tminutes = pauseTime;\n\t\t\t\t\tseconds = 0;\n\t\t\t\t\tcycles -= 1;\n\t\t\t\t} else {\n\t\t\t\t\t// End of pause session, start next study session\n\t\t\t\t\tconsole.log(\"Start study session\");\n\t\t\t\t\tstatus = STATUS.STUDY;\n\t\t\t\t\tstudying = true;\n\t\t\t\t\tplayRing();\n\t\t\t\t\tstartAnimation(true); // Passa true per l'animazione di studio\n\t\t\t\t\tminutes = studyTime;\n\t\t\t\t\tseconds = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tpauseTime,\n\t\t\t\tstatus,\n\t\t\t\tintervalId,\n\t\t\t\tactiveTimer,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction nextCycle(): void {\n\t\tif (data.studying) {\n\t\t\tnextPhase();\n\t\t\tnextPhase();\n\t\t}\n\t\telse {\n\t\t\tnextPhase();\n\t\t}\n\t}\n\t\n\tfunction repeatCycle(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tstatus,\n\t\t\t} = prevData;\n\t\t\t\n\t\t\tif (!studying) {\n\t\t\t\tcycles += 1;\n\t\t\t}\n\t\t\t\tstatus = STATUS.STUDY;\n\t\t\t\tstudying = true;\n\t\t\t\tplayRing();\n\t\t\t\tstartAnimation(true); // Passa true per l'animazione di studio\n\t\t\t\tminutes = studyTime;\n\t\t\t\tseconds = 0;\n\n\t\t\t\n\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tminutes,\n\t\t\t\tseconds,\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\tstudying,\n\t\t\t\tstatus,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction proposalsMinutes(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tcycles,\n\t\t\t\tstudyTime,\n\t\t\t\ttotMinutes,\n\t\t\t\tpauseTime,\n\t\t\t\tmessage,\n\t\t\t} = prevData;\n\n\t\t\tif (totMinutes <= 0 || totMinutes > 3465) {\n\t\t\t\tsetData({ ...data, message: MESSAGE.MINUTES });\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstudyTime = 30;\n\t\t\t\tpauseTime = 5;\n\t\t\t\tif (totMinutes%35 !== 0) {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35) + 1; // +1 perchè ho i tasti per passare avanti\n\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t  // quindi se il tempo totale è troppo non è un problema\n\t\t\t\telse {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tcycles,\n\t\t\t\tpauseTime,\n\t\t\t\tstudyTime,\n\t\t\t\tmessage,\n\t\t\t\ttotMinutes,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tfunction proposalsHours(): void {\n\t\tsetData((prevData) => {\n\t\t\tlet {\n\t\t\t\tcycles,\n\t\t\t\tmessage,\n\t\t\t\tstudyTime,\n\t\t\t\tpauseTime,\n\t\t\t\ttotHours,\n\t\t\t\ttotMinutes,\n\t\t\t} = prevData;\n\t\t\t\n\t\t\ttotMinutes = totHours * 60;\n\t\t\tif (totMinutes <= 0 || totMinutes > 3465) {\n\t\t\t\tsetData({ ...data, message: MESSAGE.HOURS });\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstudyTime = 30;\n\t\t\t\tpauseTime = 5;\n\t\t\t\tif (totMinutes%35 !== 0) {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35) + 1;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcycles = Math.floor(totMinutes / 35);\n\t\t\t\t}\n\t\t\t}\t\n\t\t\treturn {\n\t\t\t\t...prevData,\n\t\t\t\tcycles,\n\t\t\t\tmessage,\n\t\t\t\tstudyTime,\n\t\t\t\tpauseTime,\n\t\t\t\ttotMinutes,\n\t\t\t\ttotHours,\n\t\t\t} as PomodoroData;\n\t\t});\n\t}\n\n\tasync function handleCreateEvent(e: React.MouseEvent<HTMLButtonElement>): Promise<void> {\n\t\te.preventDefault();\n\n\t\t//Validazione dell'input\n\t\tif (!pomEvent.title || !pomEvent.startTime || !pomEvent.endTime || !pomEvent.location) {\n\t\t\tsetMessage(\"Tutti i campi dell'evento devono essere riempiti!\");\n\t\t\treturn;\n\t\t}\n\n\t\tif (pomEvent.startTime > pomEvent.endTime) {\n\t\t\tsetMessage(\"La data di inizio non può essere collocata dopo la data di fine!\");\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentUser = await getCurrentUser();\n\t\tconst res = await fetch(`${SERVER_API}/events`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\tbody: JSON.stringify({\n\t\t\t\towner: currentUser.value.username,\n\t\t\t\ttitle: pomEvent.title,\n\t\t\t\tstartTime: pomEvent.startTime.toISOString(),\n\t\t\t\tendTime: pomEvent.endTime.toISOString(),\n\t\t\t\tfrequency: Frequency.ONCE,\n\t\t\t\tlocation: pomEvent.location,\n\t\t\t}),\n\t\t});\n\n\t\tconsole.log(pomEvent.title, pomEvent.startTime, pomEvent.endTime, pomEvent.location)\n\n\t\tif (!res.ok) {\n\t\t\tconst errorData = await res.json();\n\t\t\tconsole.error(\"Error response:\", errorData);\n\t\t\tsetMessage(\"Errore durante la creazione dell'evento: \" + errorData.message);\n\t\t\treturn;\n\t\t}\n\n\t\tconst data: ResponseBody = (await res.json()) as ResponseBody;\n\n\t\tsetMessage(data.message || \"Undefined error\");\n\n\t\twindow.location.reload()\n\n\t\t// TODO: send post request to server\n\t\t// TODO: handle response\n\t}\n\n\tasync function getCurrentUser(): Promise<Promise<any> | null> {\n\t\ttry {\n\t\t\tconst res = await fetch(`${SERVER_API}/users`);\n\t\t\tif (!res.ok) { // Controlla se la risposta non è ok\n\t\t\t\tsetMessage(\"Utente non autenticato\");\n\t\t\t\treturn null; // Restituisci null se non autenticato\n\t\t\t}\n\t\t\tconsole.log(\"Questa è la risposta alla GET per ottenere lo user\", res);\n\t\t\tconst data: User = await res.json();\n\t\t\tconsole.log(\"Questo è il json della risposta\", data);\n\t\t\treturn data;\n\t\t} catch (e) {\n\t\t\tsetMessage(\"Impossibile recuperare l'utente corrente\");\n\t\t\treturn null;\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<>\n\t\t\t{message && <div>{message}</div>}\n\n\t\t\t<audio id=\"ring\" src=\"/images/ring.mp3\"></audio>\n\n\t\t\t<div className=\"pomodoro-container\">\n\t\t\t\t\n\t\t\t\t<header>\n\t\t\t\t\t<h1 id=\"title\" style={{ color: \"black\", fontWeight: \"bold\" }}>POMODORO TIMER</h1>\n\t\t\t\t</header>\n\n\t\t\t\t<div className=\"preview\">\n\t\t\t\t\t<div style={{ fontWeight: \"bold\" }}>POMODORO RECENTI:</div>\n\t\t\t\t\t{tomatoList.slice(-3).map((pomodoro, index) => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"previous-pomodoros\"\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={(): void =>\n\t\t\t\t\t\t\t\tsetData({\n\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\tstudyTime: pomodoro.studyTime,\n\t\t\t\t\t\t\t\t\tpauseTime: pomodoro.pauseTime,\n\t\t\t\t\t\t\t\t\tcycles: pomodoro.cycles,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{pomodoro.studyTime} min - {pomodoro.pauseTime} min - {pomodoro.cycles} cicli\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t\t<div ref={pomodoroRef} className=\"pomodoro\">\n\t\t\t\t\t<img src=\"/images/tomato.png\" alt=\"tomato.png\" />\n\t\t\t\t\t<div id=\"timer\" className=\"timer\">\n\t\t\t\t\t\t{data.activeTimer ? `${pad(data.minutes)}:${pad(data.seconds)}` : \"\"}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<h4\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmargin: \"0.5em auto 1em\",\n\t\t\t\t\t\t\twidth: \"300px\",\n\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t{data.status}\n\t\t\t\t\t</h4>\n\n\t\t\t\t\t<div style={{display: \"flex\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"start-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-success border\"\n\t\t\t\t\t\t\tonClick={handleSavePomodoroConfig}\n\t\t\t\t\t\t\tdisabled={data.activeTimer}>\n\t\t\t\t\t\t\tSTART\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"stop-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-danger border\"\n\t\t\t\t\t\t\tonClick={stopProcess}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tSTOP\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\t<br/>\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"next-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-warning border\"\n\t\t\t\t\t\t\tonClick={nextPhase}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tNEXT PHASE\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"next-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-warning border\"\n\t\t\t\t\t\t\tonClick={nextCycle}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tNEXT CYCLE\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"next-button\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-warning border\"\n\t\t\t\t\t\t\tonClick={repeatCycle}\n\t\t\t\t\t\t\tdisabled={!data.activeTimer}>\n\t\t\t\t\t\t\tREPEAT CYCLE\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<p className=\"paragraph\">{data.message}</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello studyTime border\">\n\t\t\t\t\t<label htmlFor=\"inputStudy\">Study time in minutes</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"inputStudy\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the time\"\n\t\t\t\t\t\tclassName=\"inputStudyTime\"\n\t\t\t\t\t\tid=\"inputStudy\"\n\t\t\t\t\t\tvalue={data.studyTime}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, studyTime: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello breakTime border\">\n\t\t\t\t\t<label htmlFor=\"inputPause\"> Break time in minutes </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"inputPause\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the time\"\n\t\t\t\t\t\tid=\"inputPause\"\n\t\t\t\t\t\tvalue={data.pauseTime}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, pauseTime: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello studyCycles border\">\n\t\t\t\t\t<label htmlFor=\"inputCycles\"> Number of study cycles </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"inputCycles\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the study cycles\"\n\t\t\t\t\t\tid=\"inputCycles\"\n\t\t\t\t\t\tvalue={data.cycles}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, cycles: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello totMinutes border\">\n\t\t\t\t\t<label htmlFor=\"totMinutes\"> Total minutes of study </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"totMinutes\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the total minutes\"\n\t\t\t\t\t\tid=\"totMinutes\"\n\t\t\t\t\t\tvalue={data.totMinutes}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, totMinutes: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"minutesButton\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\tonClick={proposalsMinutes}\n\t\t\t\t\t\t\tdisabled={data.activeTimer}>\n\t\t\t\t\t\t\tUSE MINUTES\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"pannello totHours border\">\n\t\t\t\t\t<label htmlFor=\"totHours\"> Total hours of study </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"totHours\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"Enter the total hours\"\n\t\t\t\t\t\tid=\"totHours\"\n\t\t\t\t\t\tvalue={data.totHours}\n\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\tsetData({ ...data, totHours: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdisabled={data.activeTimer}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\t\tid=\"hoursButton\"\t\t//probabilmente non serve l'id\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\t\tonClick={proposalsHours}\n\t\t\t\t\t\t\tdisabled={data.activeTimer}>\n\t\t\t\t\t\t\tUSE HOURS\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"create-event-container col-2\">\n\t\t\t\t\t<h4>Organize your next Pomodoro Session</h4>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<label htmlFor=\"startTime\">\n\t\t\t\t\t\t\tData Inizio\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tclassName=\"btn border createEventinput\"\n\t\t\t\t\t\t\t\t\tname=\"startTime\"\n\t\t\t\t\t\t\t\t\tselected={pomEvent.startTime}\n\t\t\t\t\t\t\t\t\tonChange={(date: Date | null): void => {\n\t\t\t\t\t\t\t\t\t\tif (date) {\n\t\t\t\t\t\t\t\t\t\t\t// Aggiorna la data mantenendo l'orario attuale\n\t\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.startTime);\n\t\t\t\t\t\t\t\t\t\t\tnewDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n\t\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, startTime: newDate });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"btn border createEventinput\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tvalue={`${pomEvent.startTime.getHours().toString().padStart(2, '0')}:${pomEvent.startTime.getMinutes().toString().padStart(2, '0')}`}\n\t\t\t\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\t\t\t\t\t\t\t\t\tconst [hours, minutes] = e.target.value.split(':');\n\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.startTime); // Crea un nuovo oggetto Date basato su startTime\n\t\t\t\t\t\t\t\t\t\tnewDate.setHours(Number(hours), Number(minutes), 0, 0); // Imposta l'orario\n\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, startTime: newDate });// Imposta il nuovo oggetto Date\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t<label htmlFor=\"endTime\">\n\t\t\t\t\t\t\tData Fine\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tclassName=\"btn border createEventinput\"\n\t\t\t\t\t\t\t\t\tname=\"endTime\"\n\t\t\t\t\t\t\t\t\tselected={pomEvent.endTime}\n\t\t\t\t\t\t\t\t\tonChange={(date: Date | null): void => {\n\t\t\t\t\t\t\t\t\t\tif (date) {\n\t\t\t\t\t\t\t\t\t\t\t// Aggiorna la data mantenendo l'orario attuale\n\t\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.endTime);\n\t\t\t\t\t\t\t\t\t\t\tnewDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n\t\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, endTime: newDate });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"btn border createEventinput\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tvalue={`${pomEvent.endTime.getHours().toString().padStart(2, '0')}:${pomEvent.endTime.getMinutes().toString().padStart(2, '0')}`}\n\t\t\t\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\t\t\t\t\t\t\t\t\tconst [hours, minutes] = e.target.value.split(':');\n\t\t\t\t\t\t\t\t\t\tconst newDate = new Date(pomEvent.endTime);\n\t\t\t\t\t\t\t\t\t\tnewDate.setHours(Number(hours), Number(minutes)); // Aggiorna l'orario\n\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, endTime: newDate }); // Imposta il nuovo oggetto Date\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label htmlFor=\"location\">\n\t\t\t\t\t\t\t\tLuogo\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn border createEventinput\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tname=\"location\"\n\t\t\t\t\t\t\t\t\t\tvalue={pomEvent.location}\n\t\t\t\t\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>): void =>\n\t\t\t\t\t\t\t\t\t\t\tsetPomEvent({ ...pomEvent, location: e.target.value })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackgroundColor: \"bisque\",\n\t\t\t\t\t\t\t\tcolor: \"black\",\n\t\t\t\t\t\t\t\tborder: \"0\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={handleCreateEvent}>\n\t\t\t\t\t\t\tCreate Event\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}